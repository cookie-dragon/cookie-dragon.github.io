<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>曲奇技术</title>
  
  <subtitle>曲奇龙的技术部落格</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://blog.cooky.tk/"/>
  <updated>2019-10-10T13:26:38.000Z</updated>
  <id>https://blog.cooky.tk/</id>
  
  <author>
    <name>曲奇龙</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Java第三方框架集合</title>
    <link href="https://blog.cooky.tk/2019/10/10/Java%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A1%86%E6%9E%B6%E9%9B%86%E5%90%88/"/>
    <id>https://blog.cooky.tk/2019/10/10/Java第三方框架集合/</id>
    <published>2019-10-10T13:26:38.000Z</published>
    <updated>2019-10-10T13:26:38.000Z</updated>
    
    <content type="html"><![CDATA[<p><a href="#">fastjson</a> - JOSN解析库<br><a href="https://square.github.io/okhttp/" target="_blank" rel="noopener">OkHttp</a> - 高效的HTTP客户端</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;#&quot;&gt;fastjson&lt;/a&gt; - JOSN解析库&lt;br&gt;&lt;a href=&quot;https://square.github.io/okhttp/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;OkHttp&lt;/a&gt; - 高效的HTTP客户端&lt;/
      
    
    </summary>
    
    
      <category term="Java" scheme="https://blog.cooky.tk/categories/Java/"/>
    
    
      <category term="集合" scheme="https://blog.cooky.tk/tags/%E9%9B%86%E5%90%88/"/>
    
  </entry>
  
  <entry>
    <title>Android第三方框架集合</title>
    <link href="https://blog.cooky.tk/2019/10/10/Android%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A1%86%E6%9E%B6%E9%9B%86%E5%90%88/"/>
    <id>https://blog.cooky.tk/2019/10/10/Android第三方框架集合/</id>
    <published>2019-10-10T13:13:59.000Z</published>
    <updated>2019-10-10T13:13:59.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Android原生"><a href="#Android原生" class="headerlink" title="Android原生"></a>Android原生</h2><p><a href="https://developer.android.com/studio/build/multidex.html" target="_blank" rel="noopener">multidex</a> - 多dex文件支持<br><a href="https://developer.android.com/reference/android/widget/GridLayout" target="_blank" rel="noopener">GridLayout</a> - 网格布局</p><h2 id="系统级"><a href="#系统级" class="headerlink" title="系统级"></a>系统级</h2><p><a href="http://jakewharton.github.io/butterknife/" target="_blank" rel="noopener">Butter Knife</a> - 专注于Android系统的View注入框架<br><a href="https://square.github.io/leakcanary" target="_blank" rel="noopener">LeakCanary</a> - 检测Android App中的内存泄露问题<br><a href="https://firebaseopensource.com/projects/googlesamples/easypermissions/" target="_blank" rel="noopener">easypermissions</a> - 一个处理权限的库</p><h2 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h2><p><a href="http://greenrobot.org/greendao/" target="_blank" rel="noopener">greenDAO</a> - 开源的Android ORM(“对象/关系映射”)</p><h2 id="UI"><a href="#UI" class="headerlink" title="UI"></a>UI</h2><p><a href="https://qmuiteam.com/android" target="_blank" rel="noopener">QMUI Android</a> - 致力于提高项目 UI 开发效率的解决方案<br><a href="https://github.com/scwang90/SmartRefreshLayout" target="_blank" rel="noopener">SmartRefreshLayout</a> - Android智能下拉刷新框架<br><a href="https://github.com/PhilJay/MPAndroidChart" target="_blank" rel="noopener">MPAndroidChart</a> - Android软件中常用的开源图表库<br><a href="https://github.com/Bigkoo/Android-PickerView" target="_blank" rel="noopener">Android-PickerView</a> - 时间选择器、省市区三级联动</p><h2 id="基础功能"><a href="#基础功能" class="headerlink" title="基础功能"></a>基础功能</h2><p><a href="https://bumptech.github.io/glide/" target="_blank" rel="noopener">Glide</a> - 图片加载库<br><a href="https://github.com/zhihu/Matisse" target="_blank" rel="noopener">Matisse</a> - 知乎图片选择框架<br><a href="https://github.com/yipianfengye/android-zxingLibrary" target="_blank" rel="noopener">android-zxingLibrary</a> - 几行代码快速集成二维码扫描功能</p><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p><a href="https://www.jiguang.cn/push" target="_blank" rel="noopener">极光推送</a> - 快速集成推送，轻松提升用户粘性，为你的移动应用加油</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Android原生&quot;&gt;&lt;a href=&quot;#Android原生&quot; class=&quot;headerlink&quot; title=&quot;Android原生&quot;&gt;&lt;/a&gt;Android原生&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://developer.android.com/stu
      
    
    </summary>
    
    
      <category term="Android" scheme="https://blog.cooky.tk/categories/Android/"/>
    
    
      <category term="集合" scheme="https://blog.cooky.tk/tags/%E9%9B%86%E5%90%88/"/>
    
  </entry>
  
  <entry>
    <title>ERROR-recipe_for_target_kernel/timeconst.h_failed_kernel/timeconst.h]_Error_255</title>
    <link href="https://blog.cooky.tk/2019/10/10/ERROR-recipe-for-target-kernel-timeconst-h-failed-kernel-timeconst-h-Error-255/"/>
    <id>https://blog.cooky.tk/2019/10/10/ERROR-recipe-for-target-kernel-timeconst-h-failed-kernel-timeconst-h-Error-255/</id>
    <published>2019-10-10T13:03:25.000Z</published>
    <updated>2019-10-10T13:03:25.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="报错"><a href="#报错" class="headerlink" title="报错"></a>报错</h2><p>在使用ubuntu16.04编译Linux-3.4.2内核时出现这样的错误：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">recipe for target &apos;kernel/timeconst.h&apos; failed kernel/timeconst.h] Error 255</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h2><p>将kernel/timeconst.pl中第373行的defined()去掉，只留下 !@val 就可以了</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;报错&quot;&gt;&lt;a href=&quot;#报错&quot; class=&quot;headerlink&quot; title=&quot;报错&quot;&gt;&lt;/a&gt;报错&lt;/h2&gt;&lt;p&gt;在使用ubuntu16.04编译Linux-3.4.2内核时出现这样的错误：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;recipe for target &amp;apos;kernel/timeconst.h&amp;apos; failed kernel/timeconst.h] Error 255&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
    
      <category term="ERROR" scheme="https://blog.cooky.tk/tags/ERROR/"/>
    
  </entry>
  
  <entry>
    <title>内核编译-ip_rule功能</title>
    <link href="https://blog.cooky.tk/2019/10/10/%E5%86%85%E6%A0%B8%E7%BC%96%E8%AF%91-ip-rule%E5%8A%9F%E8%83%BD/"/>
    <id>https://blog.cooky.tk/2019/10/10/内核编译-ip-rule功能/</id>
    <published>2019-10-10T12:55:52.000Z</published>
    <updated>2019-10-11T06:49:52.000Z</updated>
    
    <content type="html"><![CDATA[<p>在使用ip rule时，报如下错误：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">iprule </span><br><span class="line">iprule: RTNETLINK answers: Operation not supported</span><br><span class="line">iprule: dump terminated</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="内核增加新功能"><a href="#内核增加新功能" class="headerlink" title="内核增加新功能"></a>内核增加新功能</h2><p>make menuconfig<br>make ARCH=arm menuconfig</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Networking support  ---&gt; </span><br><span class="line">     Networking options  </span><br><span class="line">        [*]   IP: advanced router </span><br><span class="line">        [*]     IP: policy routing</span><br></pre></td></tr></table></figure><h3 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h3><p>环境：迈冲科技IOT-BOX V6<br>内核开启策略路由后，8188eu.ko驱动（Wi-Fi）开启报错<br>暂未找到解决方法</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;在使用ip rule时，报如下错误：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;iprule &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;iprule: RTNETLINK answers: Operation not supported&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;iprule: dump terminated&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
      <category term="内核编译" scheme="https://blog.cooky.tk/categories/Linux/%E5%86%85%E6%A0%B8%E7%BC%96%E8%AF%91/"/>
    
    
      <category term="menuconfig" scheme="https://blog.cooky.tk/tags/menuconfig/"/>
    
  </entry>
  
  <entry>
    <title>Linux下的文件查找find</title>
    <link href="https://blog.cooky.tk/2019/09/10/Linux%E4%B8%8B%E7%9A%84%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BEfind/"/>
    <id>https://blog.cooky.tk/2019/09/10/Linux下的文件查找find/</id>
    <published>2019-09-10T02:27:04.000Z</published>
    <updated>2019-09-10T02:27:04.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Linux系统下用find命令查找最近修改过的文件"><a href="#Linux系统下用find命令查找最近修改过的文件" class="headerlink" title="Linux系统下用find命令查找最近修改过的文件"></a>Linux系统下用find命令查找最近修改过的文件</h2><p>查找最近30分钟修改的当前目录下的.php文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -name &apos;*.php&apos; -mmin -30</span><br></pre></td></tr></table></figure><p>查找最近24小时修改的当前目录下的.php文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -name &apos;*.php&apos; -mtime 0</span><br></pre></td></tr></table></figure><p>查找最近24小时修改的当前目录下的.php文件，并列出详细信息</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -name &apos;*.inc&apos; -mtime 0 -ls</span><br></pre></td></tr></table></figure><p>查找当前目录下，最近24-48小时修改过的常规文件。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -type f -mtime 1</span><br></pre></td></tr></table></figure><p>查找当前目录下，最近1天前修改过的常规文件。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -type f -mtime +1</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Linux系统下用find命令查找最近修改过的文件&quot;&gt;&lt;a href=&quot;#Linux系统下用find命令查找最近修改过的文件&quot; class=&quot;headerlink&quot; title=&quot;Linux系统下用find命令查找最近修改过的文件&quot;&gt;&lt;/a&gt;Linux系统下用fi
      
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>一行命令更新所有npm依赖包</title>
    <link href="https://blog.cooky.tk/2019/09/10/%E4%B8%80%E8%A1%8C%E5%91%BD%E4%BB%A4%E6%9B%B4%E6%96%B0%E6%89%80%E6%9C%89npm%E4%BE%9D%E8%B5%96%E5%8C%85/"/>
    <id>https://blog.cooky.tk/2019/09/10/一行命令更新所有npm依赖包/</id>
    <published>2019-09-10T01:09:56.000Z</published>
    <updated>2019-09-10T01:09:56.000Z</updated>
    
    <content type="html"><![CDATA[<p>npm 包的更新速度很快，为了将项目或者全局依赖更新到最新版本。传统的做法是一个一个更新，比如更新 react 到最新版本，命令如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># npm</span><br><span class="line">npm i --save react@latest</span><br><span class="line"># yarn</span><br><span class="line">yarn add react@latest</span><br></pre></td></tr></table></figure><p>yarn 是 facebook 发明的新一代 js 包管理器，支持离线使用。这是 npm 与 yarn 的 命令对照。</p><p>但是，这种做法相当耗时。有没有更简单的方法呢？<br>答案是使用 npm-check 或者 yarn。两者都需要全局安装。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i -g yarn</span><br><span class="line">npm i -g npm-check</span><br></pre></td></tr></table></figure><h2 id="使用-npm-check-更新项目依赖"><a href="#使用-npm-check-更新项目依赖" class="headerlink" title="使用 npm-check 更新项目依赖"></a>使用 npm-check 更新项目依赖</h2><p>在项目根目录运行</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm-check -u</span><br></pre></td></tr></table></figure><p>输出如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">? Choose which packages to update. (Press &lt;space&gt; to select)</span><br><span class="line"></span><br><span class="line"> Update package.json to match version installed.</span><br><span class="line">❯◯ chalk     ^1.1.3   ❯  2.4.2   https://github.com/chalk/chalk#readme</span><br><span class="line"> ◯ cheerio   ^0.22.0  ❯  0.22.0  https://github.com/cheeriojs/cheerio#readme</span><br><span class="line"> ◯ debug     ^2.3.3   ❯  4.1.1   https://github.com/visionmedia/debug#readme</span><br><span class="line"> ◯ log4js    ^1.0.1   ❯  4.1.0   https://log4js-node.github.io/log4js-node/</span><br><span class="line"> ◯ mustache  ^2.3.0   ❯  3.0.1   https://github.com/janl/mustache.js</span><br><span class="line"> ◯ request   2.79.0   ❯  2.88.0  https://github.com/request/request#readme</span><br><span class="line"> ◯ unescape  ^0.2.0   ❯  1.0.1   https://github.com/jonschlinkert/unescape</span><br><span class="line"> ◯ yargs     ^6.4.0   ❯  13.2.2  https://yargs.js.org/</span><br><span class="line"></span><br><span class="line"> Space to select. Enter to start upgrading. Control-C to cancel.</span><br></pre></td></tr></table></figure><p>空格切换包是否更新，Control + C 取消更新，回车就是执行更新。</p><h2 id="使用-yarn-更新项目依赖"><a href="#使用-yarn-更新项目依赖" class="headerlink" title="使用 yarn 更新项目依赖"></a>使用 yarn 更新项目依赖</h2><p>在项目根目录运行</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn upgrade-interactive  --latest</span><br></pre></td></tr></table></figure><p>输出如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">yarn upgrade-interactive v1.15.2</span><br><span class="line">info Color legend :</span><br><span class="line"> &quot;&lt;red&gt;&quot;    : Major Update backward-incompatible updates</span><br><span class="line"> &quot;&lt;yellow&gt;&quot; : Minor Update backward-compatible features</span><br><span class="line"> &quot;&lt;green&gt;&quot;  : Patch Update backward-compatible bug fixes</span><br><span class="line">? Choose which packages to update. (Press &lt;space&gt; to select, &lt;a&gt; to toggle all,</span><br><span class="line">&lt;i&gt; to invert selection)</span><br><span class="line"> dependencies</span><br><span class="line">   name      range   from       to          url</span><br><span class="line">❯◯ chalk     latest  1.1.3   ❯  2.4.2       https://github.com/chalk/chalk#readm</span><br><span class="line">e</span><br><span class="line"> ◯ cheerio   latest  0.22.0  ❯  1.0.0-rc.3  https://github.com/cheeriojs/cheerio</span><br><span class="line">#readme</span><br><span class="line"> ◯ debug     latest  2.6.9   ❯  4.1.1       https://github.com/visionmedia/debug</span><br><span class="line">#readme</span><br><span class="line"> ◯ log4js    latest  1.1.1   ❯  4.1.0       https://log4js-node.github.io/log4js</span><br><span class="line">-node/</span><br><span class="line"> ◯ mustache  latest  2.3.2   ❯  3.0.1       https://github.com/janl/mustache.js</span><br><span class="line"> ◯ request   latest  2.79.0  ❯  2.88.0      https://github.com/request/request#r</span><br><span class="line">eadme</span><br><span class="line"> ◯ unescape  latest  0.2.0   ❯  1.0.1       https://github.com/jonschlinkert/une</span><br><span class="line">scape</span><br><span class="line"> ◯ yargs     latest  6.6.0   ❯  13.2.2      https://yargs.js.org/</span><br></pre></td></tr></table></figure><p>yarn 提供了全选切换功能，就是按键 A，空格切换包是否更新，Control + C 取消更新，回车就是执行更新。</p><p>yarn 的更新命令太长了，谁记得住，这种时候，请合理使用命令行工具的帮助，比如运行 yarn help。</p><h2 id="更新命令对照表"><a href="#更新命令对照表" class="headerlink" title="更新命令对照表"></a>更新命令对照表</h2><p>更新全局依赖同上</p><table><thead><tr><th>说明</th><th>yarn</th><th>npm-check</th></tr></thead><tbody><tr><td>更新项目依赖，没有交互</td><td>yarn upgrade –latest</td><td>npm-check -y</td></tr><tr><td>更新项目依赖，有交互</td><td>yarn upgrade-interactive –latest</td><td>npm-check -u</td></tr><tr><td>更新全局依赖，没有交互</td><td>yarn global upgrade –latest</td><td>npm-check -g -y</td></tr><tr><td>更新全局依赖，有交互</td><td>yarn global upgrade-interactive –latest</td><td>npm-check -g -u</td></tr></tbody></table><h2 id="检测原理"><a href="#检测原理" class="headerlink" title="检测原理"></a>检测原理</h2><p>yarn 是根据 yarn.lock 文件来检测版本是否是最新的，所以项目是使用 npm 安装依赖包，更新前要运行<code>yarn install</code>一下。</p><p>npm-check 是检测 package.json 文件，项目存在 node_modules 文件夹即可更新。</p><h2 id="更新提醒"><a href="#更新提醒" class="headerlink" title="更新提醒"></a>更新提醒</h2><p>没有交互就是将依赖包直接更新到最新版本，推荐使用交互式更新，会有更新的警告信息。</p><p>最新的依赖包，API 可能发生重大改变。为了顺利更新，更新前请 git commit 一下，更新失败了也能顺利回退。</p><h2 id="不推荐使用-cnpm"><a href="#不推荐使用-cnpm" class="headerlink" title="不推荐使用 cnpm"></a>不推荐使用 cnpm</h2><p>为了加快安装依赖的安装速度，可能被同事安利 cnpm，但是这样会导致包的依赖安装不正常，项目无法运行。</p><p>更好的做法是使用 nrm 切换下载源。</p><p>平时使用 yarn 装包，npm 运行脚本。</p><h2 id="安装-nrm"><a href="#安装-nrm" class="headerlink" title="安装 nrm"></a>安装 nrm</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -g nrm</span><br></pre></td></tr></table></figure><h2 id="查看下载镜像源"><a href="#查看下载镜像源" class="headerlink" title="查看下载镜像源"></a>查看下载镜像源</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nrm ls</span><br></pre></td></tr></table></figure><p>输出如下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">  npm ---- https://registry.npmjs.org/</span><br><span class="line">  cnpm --- http://r.cnpmjs.org/</span><br><span class="line">* taobao - https://registry.npm.taobao.org/</span><br><span class="line">  nj ----- https://registry.nodejitsu.com/</span><br><span class="line">  npmMirror  https://skimdb.npmjs.com/registry/</span><br><span class="line">  edunpm - http://registry.enpmjs.org/</span><br></pre></td></tr></table></figure><h2 id="切换镜像源"><a href="#切换镜像源" class="headerlink" title="切换镜像源"></a>切换镜像源</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nrm use taobao</span><br></pre></td></tr></table></figure><p>装包命令不变，比如安装 react 。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># npm</span><br><span class="line">npm i --save react</span><br><span class="line"># yarn</span><br><span class="line">yarn add react</span><br></pre></td></tr></table></figure><p>体验飞一般的装包速度，再也不是装包一小时，码代码五分钟。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;npm 包的更新速度很快，为了将项目或者全局依赖更新到最新版本。传统的做法是一个一个更新，比如更新 react 到最新版本，命令如下：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pr
      
    
    </summary>
    
    
      <category term="node.js" scheme="https://blog.cooky.tk/categories/node-js/"/>
    
      <category term="npm" scheme="https://blog.cooky.tk/categories/node-js/npm/"/>
    
    
      <category term="依赖包" scheme="https://blog.cooky.tk/tags/%E4%BE%9D%E8%B5%96%E5%8C%85/"/>
    
  </entry>
  
  <entry>
    <title>Linux启动脚本-sshd</title>
    <link href="https://blog.cooky.tk/2019/09/10/Linux%E5%90%AF%E5%8A%A8%E8%84%9A%E6%9C%AC-sshd/"/>
    <id>https://blog.cooky.tk/2019/09/10/Linux启动脚本-sshd/</id>
    <published>2019-09-10T01:05:35.000Z</published>
    <updated>2019-09-10T01:05:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>纯代码</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line"></span><br><span class="line">if [ ! -x /usr/sbin/sshd ]</span><br><span class="line">then</span><br><span class="line">    exit 0</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ &quot;$1&quot; = &quot;stop&quot; -o &quot;$1&quot; = &quot;restart&quot; ]</span><br><span class="line">then</span><br><span class="line">    echo &quot;Stopping the ssh server: &quot;</span><br><span class="line">    killall sshd</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ &quot;$1&quot; = &quot;start&quot; -o &quot;$1&quot; = &quot;restart&quot; ]</span><br><span class="line">then</span><br><span class="line">    # assume if one key is missing, all are</span><br><span class="line">    if [ ! -f /etc/ssh/ssh_host_key ]</span><br><span class="line">    then</span><br><span class="line">        echo &quot;Generating keys for the ssh server: &quot;</span><br><span class="line">        ssh-keygen -q -t rsa1 -f /etc/ssh/ssh_host_key  -C &apos;&apos; -N &apos;&apos;</span><br><span class="line">        ssh-keygen -q -t rsa -f /etc/ssh/ssh_host_rsa_key  -C &apos;&apos; -N &apos;&apos;</span><br><span class="line">        ssh-keygen -q -t dsa -f /etc/ssh/ssh_host_dsa_key  -C &apos;&apos; -N &apos;&apos;</span><br><span class="line">    fi</span><br><span class="line">    for i in ssh_host_key ssh_host_rsa_key ssh_host_dsa_key</span><br><span class="line">    do</span><br><span class="line">        chmod 600 /etc/ssh/$i</span><br><span class="line">    done</span><br><span class="line">    echo &quot;Starting the ssh server: &quot;</span><br><span class="line">    /usr/sbin/sshd</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;纯代码&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
    
      <category term="启动脚本" scheme="https://blog.cooky.tk/tags/%E5%90%AF%E5%8A%A8%E8%84%9A%E6%9C%AC/"/>
    
  </entry>
  
  <entry>
    <title>ERROR-/bin/bash^M：bad interpreter: No such file or directory</title>
    <link href="https://blog.cooky.tk/2019/09/09/ERROR-bin-bash-M%EF%BC%9Abad-interpreter-No-such-file-or-directory/"/>
    <id>https://blog.cooky.tk/2019/09/09/ERROR-bin-bash-M：bad-interpreter-No-such-file-or-directory/</id>
    <published>2019-09-09T09:45:41.000Z</published>
    <updated>2019-09-09T09:45:41.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="报错"><a href="#报错" class="headerlink" title="报错"></a>报错</h2><p>/bin/bash^M：bad interpreter: No such file or directory</p><h2 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h2><p>这个文件在Windows下编辑过，在Windows下每一行结尾是\n\r，而Linux下则是\n，所以才会有多出来的\r</p><a id="more"></a><h2 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h2><p>有以下几种办法  </p><ol><li>dos2unix filename  </li><li>sed -i “s/\r//“ filename  </li><li>sed -i “s/^M//“ filename  </li><li>sed -i ‘s/\r$//‘ filename </li><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vi filename</span><br><span class="line">set ff=unix</span><br><span class="line">wq</span><br></pre></td></tr></table></figure></li></ol><h2 id="后续"><a href="#后续" class="headerlink" title="后续"></a>后续</h2><p>查看脚本文件是dos格式还是unix格式的几种办法  </p><ol><li>cat -A filename 从显示结果可以判断，dos格式的文件行尾为^M$，unix格式的文件行尾为$；  </li><li>od -t x1 filename 如果看到输出内容中存在0d 0a的字符，那么文件是dos格式，如果只有0a，则是unix格式；  </li><li>vi filename打开文件，执行 : set ff，如果文件为dos格式在显示为fileformat=dos，如果是unxi则显示为fileformat=unix。</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;报错&quot;&gt;&lt;a href=&quot;#报错&quot; class=&quot;headerlink&quot; title=&quot;报错&quot;&gt;&lt;/a&gt;报错&lt;/h2&gt;&lt;p&gt;/bin/bash^M：bad interpreter: No such file or directory&lt;/p&gt;
&lt;h2 id=&quot;原因&quot;&gt;&lt;a href=&quot;#原因&quot; class=&quot;headerlink&quot; title=&quot;原因&quot;&gt;&lt;/a&gt;原因&lt;/h2&gt;&lt;p&gt;这个文件在Windows下编辑过，在Windows下每一行结尾是\n\r，而Linux下则是\n，所以才会有多出来的\r&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
    
      <category term="ERROR" scheme="https://blog.cooky.tk/tags/ERROR/"/>
    
  </entry>
  
  <entry>
    <title>Docker加速器配置</title>
    <link href="https://blog.cooky.tk/2019/09/05/Docker%E5%8A%A0%E9%80%9F%E5%99%A8%E9%85%8D%E7%BD%AE/"/>
    <id>https://blog.cooky.tk/2019/09/05/Docker加速器配置/</id>
    <published>2019-09-05T08:07:05.000Z</published>
    <updated>2019-09-05T08:07:05.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="自安装Docker配置"><a href="#自安装Docker配置" class="headerlink" title="自安装Docker配置"></a>自安装Docker配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p /etc/docker</span><br><span class="line">sudo tee /etc/docker/daemon.json &lt;&lt;-&apos;EOF&apos;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;https://xxxxxxxx.mirror.aliyuncs.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure><h3 id="群辉Docker配置文件位置"><a href="#群辉Docker配置文件位置" class="headerlink" title="群辉Docker配置文件位置"></a>群辉Docker配置文件位置</h3><p>/var/packages/Docker/etc/dockerd.json</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;自安装Docker配置&quot;&gt;&lt;a href=&quot;#自安装Docker配置&quot; class=&quot;headerlink&quot; title=&quot;自安装Docker配置&quot;&gt;&lt;/a&gt;自安装Docker配置&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;tabl
      
    
    </summary>
    
    
      <category term="Docker" scheme="https://blog.cooky.tk/categories/Docker/"/>
    
    
      <category term="本地源" scheme="https://blog.cooky.tk/tags/%E6%9C%AC%E5%9C%B0%E6%BA%90/"/>
    
  </entry>
  
  <entry>
    <title>龙尚（LONGSUNG） U9300 模块 Linux驱动</title>
    <link href="https://blog.cooky.tk/2019/09/05/%E9%BE%99%E5%B0%9A%EF%BC%88LONGSUNG%EF%BC%89-U9300-%E6%A8%A1%E5%9D%97-Linux%E9%A9%B1%E5%8A%A8/"/>
    <id>https://blog.cooky.tk/2019/09/05/龙尚（LONGSUNG）-U9300-模块-Linux驱动/</id>
    <published>2019-09-05T07:52:11.000Z</published>
    <updated>2019-09-05T07:52:11.000Z</updated>
    
    <content type="html"><![CDATA[<p>硬件环境：友善之臂（FriendlyARM）Smart4418 SDK 1606<br>固件环境：s5p4418-eflasher-friendlycore-xenial-4.4-armhf-20180906.img<br>交叉编译环境：ubuntu-16.04.4-server-amd64</p><a id="more"></a><blockquote></blockquote><p>注意：NetworkManager会导致ppp模式拨号异常，请使用network管理网络<br>vi rmnm.sh</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"> </span><br><span class="line">apt-get --yes --force-yes remove --auto-remove --purge network-manager</span><br><span class="line">apt autoremove -y</span><br><span class="line"> </span><br><span class="line">cat &gt;/etc/network/interfaces &lt;&lt;INTERFACEEOL</span><br><span class="line">source-directory /etc/network/interfaces.d</span><br><span class="line"> </span><br><span class="line">auto lo</span><br><span class="line">iface lo inet loopback</span><br><span class="line"> </span><br><span class="line">allow-hotplug wlan0</span><br><span class="line">iface wlan0 inet dhcp</span><br><span class="line">        wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf</span><br><span class="line">INTERFACEEOL</span><br><span class="line"> </span><br><span class="line">cat &gt;/etc/network/interfaces.d/eth0 &lt;&lt;ETH0EOLB</span><br><span class="line">auto eth0</span><br><span class="line">    iface eth0 inet dhcp</span><br><span class="line">    hwaddress 76:92:d4:85:f3:0f</span><br><span class="line">ETH0EOLB</span><br></pre></td></tr></table></figure><p>chmod 755 rmnm.sh<br>sudo ./rmnm.sh</p><h3 id="交叉编译环境"><a href="#交叉编译环境" class="headerlink" title="交叉编译环境"></a>交叉编译环境</h3><ul><li>安装系统</li><li>apt-get update</li><li>apt安装<br>vim-gtk<br>git<br>make<br>bc<br>lsb-core<br>libssl-dev<br>libncurses*<br>minicom</li></ul><h4 id="工具链下载（操作目录：普通用户～）"><a href="#工具链下载（操作目录：普通用户～）" class="headerlink" title="工具链下载（操作目录：普通用户～）"></a>工具链下载（操作目录：普通用户～）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/friendlyarm/prebuilts.git</span><br></pre></td></tr></table></figure><h4 id="工具链配置（export最好配置到开机启动里）"><a href="#工具链配置（export最好配置到开机启动里）" class="headerlink" title="工具链配置（export最好配置到开机启动里）"></a>工具链配置（export最好配置到开机启动里）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p /opt/FriendlyARM/toolchain</span><br><span class="line">sudo tar xf prebuilts/gcc-x64/arm-cortexa9-linux-gnueabihf-4.9.3.tar.xz -C /opt/FriendlyARM/toolchain/</span><br><span class="line">export PATH=/opt/FriendlyARM/toolchain/4.9.3/bin:$PATH</span><br><span class="line">export GCC_COLORS=auto</span><br></pre></td></tr></table></figure><h4 id="内核下载"><a href="#内核下载" class="headerlink" title="内核下载"></a>内核下载</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/friendlyarm/linux.git -b nanopi2-v4.4.y --depth 1</span><br></pre></td></tr></table></figure><h4 id="内核配置（操作目录：普通用户～-linux，即内核根目录）"><a href="#内核配置（操作目录：普通用户～-linux，即内核根目录）" class="headerlink" title="内核配置（操作目录：普通用户～/linux，即内核根目录）"></a>内核配置（操作目录：普通用户～/linux，即内核根目录）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">touch .scmversion</span><br><span class="line">make ARCH=arm nanopi2_linux_defconfig</span><br><span class="line">make ARCH=arm CROSS_COMPILE=arm-cortexa9-linux-gnueabihf- menuconfig</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Device Drivers  ---&gt;</span><br><span class="line">[*] Network device support  ---&gt;</span><br><span class="line">&lt;*&gt;   PPP (point-to-point protocol) support</span><br><span class="line">&lt;*&gt;     PPP support for async serial ports</span><br><span class="line">&lt;*&gt;     PPP support for sync tty ports</span><br><span class="line">[*] USB support  ---&gt;</span><br><span class="line">&lt;*&gt;   USB Serial Converter support  ---&gt;</span><br><span class="line">&lt;*&gt;   USB driver for GSM and CDMA modems</span><br></pre></td></tr></table></figure><h4 id="增加具体设备驱动、USB-串口驱动过滤NDIS-接口"><a href="#增加具体设备驱动、USB-串口驱动过滤NDIS-接口" class="headerlink" title="增加具体设备驱动、USB 串口驱动过滤NDIS 接口"></a>增加具体设备驱动、USB 串口驱动过滤NDIS 接口</h4><p>drivers/usb/serial/option.c</p><p>在源码中找到option_ids 数组， 在数组中添加Longsung 产品的VID(0x1C9E) 和<br>PID(0x9B3C)。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#define LONGSUNG_VENDOR_ID0x1c9e</span><br><span class="line">#define LONGSUNG_U9300_PRODUCT_ID0x9b3c</span><br></pre></td></tr></table></figure><p>在option.c 中的opiton_ids 中添加blacklist，驱动在加载时会自动跳过blacklist 指定的interface；设置interface 4 不加载option驱动；</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">static const struct option_blacklist_info longssung_u9300_blacklist = &#123;</span><br><span class="line">.reserved = BIT(4),</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>添加blacklist 到option_ids 数组中。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123; USB_DEVICE(LONGSUNG_VENDOR_ID, LONGSUNG_U9300_PRODUCT_ID),</span><br><span class="line">          .driver_info = (kernel_ulong_t)&amp;longssung_u9300_blacklist</span><br><span class="line">        &#125;,</span><br></pre></td></tr></table></figure><h4 id="内核编译（操作目录：普通用户～-linux，即内核根目录）"><a href="#内核编译（操作目录：普通用户～-linux，即内核根目录）" class="headerlink" title="内核编译（操作目录：普通用户～/linux，即内核根目录）"></a>内核编译（操作目录：普通用户～/linux，即内核根目录）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make ARCH=arm</span><br></pre></td></tr></table></figure><p>编译成功结束后，新生成的内核是 arch/arm/boot/zImage，目录arch/arm/boot/dts/下还包括新的DTB文件(s5p4418-nanopi2-rev*.dtb)，用于替换掉SD卡boot分区下对应的文件。<br>s5p4418-nanopi2-rev01.dtb<br>s5p4418-nanopi2-rev02.dtb<br>s5p4418-nanopi2-rev03.dtb<br>s5p4418-nanopi2-rev04.dtb<br>s5p4418-nanopi2-rev07.dtb<br>s5p4418-nanopi2-rev103.dtb<br>zImage</p><h4 id="内核替换"><a href="#内核替换" class="headerlink" title="内核替换"></a>内核替换</h4><p>挂载boot分区（mount /dev/mmcblk0p1 /boot/）<br>使用sftp传输替换文件<br>更新完成后，输入 reboot 命令重启即可，注意不要直接断电或按Reset键，否则可能会损坏文件。</p><h3 id="板上环境"><a href="#板上环境" class="headerlink" title="板上环境"></a>板上环境</h3><h4 id="加载USB-串口驱动"><a href="#加载USB-串口驱动" class="headerlink" title="加载USB 串口驱动"></a>加载USB 串口驱动</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo modprobe option</span><br></pre></td></tr></table></figure><h4 id="使能设备（1c9e-9b3c分别为VID、PID）"><a href="#使能设备（1c9e-9b3c分别为VID、PID）" class="headerlink" title="使能设备（1c9e 9b3c分别为VID、PID）"></a>使能设备（1c9e 9b3c分别为VID、PID）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo echo 1c9e 9b3c &gt; /sys/bus/usb-serial/drivers/option1/new_id</span><br></pre></td></tr></table></figure><p>这个操作之后应该就能够看到 /dev 下多了 ttyUSB0、ttyUSB1、ttyUSB2 几个设备节点了。<br>使用dmesg 命令查看系统log，USB 串口驱动已经被加载。</p><h4 id="交互AT配置"><a href="#交互AT配置" class="headerlink" title="交互AT配置"></a>交互AT配置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">minicom –s </span><br><span class="line">Serial port setup -&gt; Serial device -&gt; /dev/ttyUSB2</span><br><span class="line">Save setup as df1</span><br><span class="line">exit</span><br></pre></td></tr></table></figure><blockquote></blockquote><p>注意：串口中AT(ttyUSB2)，Modem(ttyUSB1)可以发AT 命令，其他不能发AT指令</p><h4 id="AT命令"><a href="#AT命令" class="headerlink" title="AT命令"></a>AT命令</h4><p>打开回显（ATE）<br>查询版本信息（AT+LCTSW）<br>查询信号（AT+CSQ）<br>注册状态（AT+CREG?）<br>网络运营商信息（AT+COPS?）</p><h4 id="拨号上网配置"><a href="#拨号上网配置" class="headerlink" title="拨号上网配置"></a>拨号上网配置</h4><p>vim /etc/ppp/chat/gprs-connect-chat </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">TIMEOUT15</span><br><span class="line">ABORT&quot;DELAYED&quot;</span><br><span class="line">ABORT&quot;BUSY&quot;</span><br><span class="line">ABORT&quot;ERROR&quot;</span><br><span class="line">ABORT&quot;NO DIALTONE&quot;</span><br><span class="line">ABORT&quot;NO CARRIER&quot;</span><br><span class="line">TIMEOUT40</span><br><span class="line">&apos;&apos;\rAT</span><br><span class="line">OKATS0=0</span><br><span class="line">OKATE0V1</span><br><span class="line">OKAT+CGDCONT=1,\&quot;IP\&quot;,\&quot;CMNET\&quot;</span><br><span class="line">OKATDT*99***1#</span><br><span class="line">CONNECT &apos;&apos;</span><br></pre></td></tr></table></figure><blockquote></blockquote><p>其中CMNET为中国移动的APN，按需修改</p><p>vim /etc/ppp/options </p><p>找到auth 字样的行然后将其改为#auth，这样在拨号过程中就不会提示需要身份验证</p><p>vim /etc/ppp/peer/gprs </p><blockquote></blockquote><p>必须指定Modem口是ttyUSB1 </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># Usage: root&gt;pppd call gprs</span><br><span class="line">/dev/ttyUSB1</span><br><span class="line">9600</span><br><span class="line">crtscts</span><br><span class="line">modem</span><br><span class="line">#noauth</span><br><span class="line">debug</span><br><span class="line">nodetach</span><br><span class="line">#hide-password</span><br><span class="line">usepeerdns</span><br><span class="line">noipdefault</span><br><span class="line">defaultroute</span><br><span class="line">0.0.0.0:0.0.0.0</span><br><span class="line">ipcp-accept-local</span><br><span class="line">ipcp-accept-remote</span><br><span class="line">#lcp-echo-failure 12</span><br><span class="line">#lcp-echo-interval 3</span><br><span class="line">#noccp</span><br><span class="line">#novj</span><br><span class="line">#novjccomp</span><br><span class="line">#persist</span><br><span class="line">connect &apos;/usr/sbin/chat -s -v -f /etc/ppp/chat/gprs-connect-chat&apos;</span><br></pre></td></tr></table></figure><h4 id="拨号上网"><a href="#拨号上网" class="headerlink" title="拨号上网"></a>拨号上网</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pppd call gprs</span><br></pre></td></tr></table></figure><blockquote></blockquote><p>通过ifconfig、ping、apt-get update来检查网络</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;硬件环境：友善之臂（FriendlyARM）Smart4418 SDK 1606&lt;br&gt;固件环境：s5p4418-eflasher-friendlycore-xenial-4.4-armhf-20180906.img&lt;br&gt;交叉编译环境：ubuntu-16.04.4-server-amd64&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
      <category term="嵌入式" scheme="https://blog.cooky.tk/categories/Linux/%E5%B5%8C%E5%85%A5%E5%BC%8F/"/>
    
    
      <category term="驱动" scheme="https://blog.cooky.tk/tags/%E9%A9%B1%E5%8A%A8/"/>
    
      <category term="4G" scheme="https://blog.cooky.tk/tags/4G/"/>
    
  </entry>
  
  <entry>
    <title>Linux注册ko驱动</title>
    <link href="https://blog.cooky.tk/2019/09/05/Linux%E6%B3%A8%E5%86%8Cko%E9%A9%B1%E5%8A%A8/"/>
    <id>https://blog.cooky.tk/2019/09/05/Linux注册ko驱动/</id>
    <published>2019-09-05T07:42:38.000Z</published>
    <updated>2019-09-05T07:42:38.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="复制ko驱动"><a href="#复制ko驱动" class="headerlink" title="复制ko驱动"></a>复制ko驱动</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp 8188eu.ko /lib/modules/3.2.0/</span><br></pre></td></tr></table></figure><h4 id="临时注册驱动"><a href="#临时注册驱动" class="headerlink" title="临时注册驱动"></a>临时注册驱动</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insmod /lib/modules/3.2.0/8188eu.ko</span><br></pre></td></tr></table></figure><h4 id="持久化注册驱动"><a href="#持久化注册驱动" class="headerlink" title="持久化注册驱动"></a>持久化注册驱动</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /lib/modules/3.2.0/</span><br><span class="line">depmod</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;复制ko驱动&quot;&gt;&lt;a href=&quot;#复制ko驱动&quot; class=&quot;headerlink&quot; title=&quot;复制ko驱动&quot;&gt;&lt;/a&gt;复制ko驱动&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gut
      
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
      <category term="嵌入式" scheme="https://blog.cooky.tk/categories/Linux/%E5%B5%8C%E5%85%A5%E5%BC%8F/"/>
    
    
      <category term="驱动" scheme="https://blog.cooky.tk/tags/%E9%A9%B1%E5%8A%A8/"/>
    
  </entry>
  
  <entry>
    <title>内核编译-网卡桥接</title>
    <link href="https://blog.cooky.tk/2019/09/05/%E5%86%85%E6%A0%B8%E7%BC%96%E8%AF%91-%E7%BD%91%E5%8D%A1%E6%A1%A5%E6%8E%A5/"/>
    <id>https://blog.cooky.tk/2019/09/05/内核编译-网卡桥接/</id>
    <published>2019-09-05T07:38:31.000Z</published>
    <updated>2019-09-05T07:38:31.000Z</updated>
    
    <content type="html"><![CDATA[<p>make menuconfig<br>make ARCH=arm menuconfig</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[*] Networking support ---&gt;</span><br><span class="line">Networking options ---&gt;</span><br><span class="line">&lt;*&gt; 802.1d Ethernet Bridging</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;make menuconfig&lt;br&gt;make ARCH=arm menuconfig&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/
      
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
      <category term="内核编译" scheme="https://blog.cooky.tk/categories/Linux/%E5%86%85%E6%A0%B8%E7%BC%96%E8%AF%91/"/>
    
    
      <category term="menuconfig" scheme="https://blog.cooky.tk/tags/menuconfig/"/>
    
  </entry>
  
  <entry>
    <title>内核编译-虚拟网络设备tun/tap</title>
    <link href="https://blog.cooky.tk/2019/09/05/%E5%86%85%E6%A0%B8%E7%BC%96%E8%AF%91-%E8%99%9A%E6%8B%9F%E7%BD%91%E7%BB%9C%E8%AE%BE%E5%A4%87tun-tap/"/>
    <id>https://blog.cooky.tk/2019/09/05/内核编译-虚拟网络设备tun-tap/</id>
    <published>2019-09-05T07:37:52.000Z</published>
    <updated>2019-09-05T07:37:52.000Z</updated>
    
    <content type="html"><![CDATA[<p>make menuconfig<br>make ARCH=arm menuconfig</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Device Drivers ---&gt;</span><br><span class="line">[*] Network device support ---&gt;</span><br><span class="line">&lt;*&gt; Universal TUN/TAP device driver support</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;make menuconfig&lt;br&gt;make ARCH=arm menuconfig&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/
      
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
      <category term="内核编译" scheme="https://blog.cooky.tk/categories/Linux/%E5%86%85%E6%A0%B8%E7%BC%96%E8%AF%91/"/>
    
    
      <category term="menuconfig" scheme="https://blog.cooky.tk/tags/menuconfig/"/>
    
  </entry>
  
  <entry>
    <title>内核编译-NAT转发</title>
    <link href="https://blog.cooky.tk/2019/09/05/%E5%86%85%E6%A0%B8%E7%BC%96%E8%AF%91-NAT%E8%BD%AC%E5%8F%91/"/>
    <id>https://blog.cooky.tk/2019/09/05/内核编译-NAT转发/</id>
    <published>2019-09-05T07:36:23.000Z</published>
    <updated>2019-09-05T07:36:23.000Z</updated>
    
    <content type="html"><![CDATA[<p>make menuconfig<br>make ARCH=arm menuconfig</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[*] Networking support ---&gt;</span><br><span class="line">Networking options ---&gt;</span><br><span class="line">[*] Network packet filtering framework (Netfilter) ---&gt;</span><br><span class="line">Core Netfilter Configuration ---&gt;</span><br><span class="line">&lt;*&gt; Netfilter connection tracking support</span><br><span class="line">&lt;*&gt; NetBIOS name service protocol support</span><br><span class="line">-*- Netfilter Xtables support (required for ip_tables)</span><br><span class="line">IP: Netfilter Configuration ---&gt;</span><br><span class="line">&lt;*&gt; IPv4 connection tracking support (required for NAT)</span><br><span class="line">&lt;*&gt; IP tables support (required for filtering/masq/NAT)</span><br><span class="line">&lt;*&gt; iptables NAT support</span><br><span class="line">&lt;*&gt; MASQUERADE target support</span><br><span class="line">&lt;*&gt; REDIRECT target support</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;make menuconfig&lt;br&gt;make ARCH=arm menuconfig&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/
      
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
      <category term="内核编译" scheme="https://blog.cooky.tk/categories/Linux/%E5%86%85%E6%A0%B8%E7%BC%96%E8%AF%91/"/>
    
    
      <category term="menuconfig" scheme="https://blog.cooky.tk/tags/menuconfig/"/>
    
  </entry>
  
  <entry>
    <title>内核编译-4G网卡驱动</title>
    <link href="https://blog.cooky.tk/2019/09/05/%E5%86%85%E6%A0%B8%E7%BC%96%E8%AF%91-4G%E7%BD%91%E5%8D%A1%E9%A9%B1%E5%8A%A8/"/>
    <id>https://blog.cooky.tk/2019/09/05/内核编译-4G网卡驱动/</id>
    <published>2019-09-05T07:33:35.000Z</published>
    <updated>2019-09-05T07:33:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>make menuconfig<br>make ARCH=arm menuconfig</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Device Drivers ---&gt;</span><br><span class="line">[*] Network device support ---&gt;</span><br><span class="line">&lt;*&gt; PPP (point-to-point protocol) support</span><br><span class="line">&lt;*&gt; PPP support for async serial ports</span><br><span class="line">&lt;*&gt; PPP support for sync tty ports</span><br><span class="line">[*] USB support ---&gt;</span><br><span class="line">&lt;*&gt; USB Serial Converter support ---&gt;</span><br><span class="line">&lt;*&gt; USB driver for GSM and CDMA modems</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;make menuconfig&lt;br&gt;make ARCH=arm menuconfig&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/
      
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
      <category term="内核编译" scheme="https://blog.cooky.tk/categories/Linux/%E5%86%85%E6%A0%B8%E7%BC%96%E8%AF%91/"/>
    
    
      <category term="menuconfig" scheme="https://blog.cooky.tk/tags/menuconfig/"/>
    
  </entry>
  
  <entry>
    <title>Linux设置forward转发</title>
    <link href="https://blog.cooky.tk/2019/09/05/Linux%E8%AE%BE%E7%BD%AEforward%E8%BD%AC%E5%8F%91/"/>
    <id>https://blog.cooky.tk/2019/09/05/Linux设置forward转发/</id>
    <published>2019-09-05T07:29:58.000Z</published>
    <updated>2019-09-05T07:29:58.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Set-ip-forward"><a href="#Set-ip-forward" class="headerlink" title="Set ip_forward"></a>Set ip_forward</h3><p>vim /etc/sysctl.conf</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net.ipv4.ip_forward=1</span><br></pre></td></tr></table></figure><h3 id="Check-ip-forward"><a href="#Check-ip-forward" class="headerlink" title="Check ip_forward"></a>Check ip_forward</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl net.ipv4.ip_forward</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Set-ip-forward&quot;&gt;&lt;a href=&quot;#Set-ip-forward&quot; class=&quot;headerlink&quot; title=&quot;Set ip_forward&quot;&gt;&lt;/a&gt;Set ip_forward&lt;/h3&gt;&lt;p&gt;vim /etc/sysctl.conf&lt;/
      
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
    
      <category term="forward" scheme="https://blog.cooky.tk/tags/forward/"/>
    
  </entry>
  
  <entry>
    <title>route 网关设置</title>
    <link href="https://blog.cooky.tk/2019/09/05/route-%E7%BD%91%E5%85%B3%E8%AE%BE%E7%BD%AE/"/>
    <id>https://blog.cooky.tk/2019/09/05/route-网关设置/</id>
    <published>2019-09-05T07:28:24.000Z</published>
    <updated>2019-09-05T07:28:24.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Delete-default-Gateway"><a href="#Delete-default-Gateway" class="headerlink" title="Delete default Gateway"></a>Delete default Gateway</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">route del default</span><br></pre></td></tr></table></figure><h3 id="Add-default-Gateway"><a href="#Add-default-Gateway" class="headerlink" title="Add default Gateway"></a>Add default Gateway</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">route add default gw 192.168.200.1</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Delete-default-Gateway&quot;&gt;&lt;a href=&quot;#Delete-default-Gateway&quot; class=&quot;headerlink&quot; title=&quot;Delete default Gateway&quot;&gt;&lt;/a&gt;Delete default Gatew
      
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
    
      <category term="route" scheme="https://blog.cooky.tk/tags/route/"/>
    
  </entry>
  
  <entry>
    <title>iptables NAT转发</title>
    <link href="https://blog.cooky.tk/2019/09/05/iptables-NAT%E8%BD%AC%E5%8F%91/"/>
    <id>https://blog.cooky.tk/2019/09/05/iptables-NAT转发/</id>
    <published>2019-09-05T07:25:58.000Z</published>
    <updated>2019-09-05T07:25:58.000Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE</span><br><span class="line">iptables -A FORWARD -i eth0 -o eth1 -m state --state RELATED,ESTABLISHED -j ACCEPT</span><br><span class="line">iptables -A FORWARD -i eth0 -o eth1 -j ACCEPT</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class
      
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
    
      <category term="iptables" scheme="https://blog.cooky.tk/tags/iptables/"/>
    
  </entry>
  
  <entry>
    <title>iptables 保存/加载</title>
    <link href="https://blog.cooky.tk/2019/09/05/iptables-%E4%BF%9D%E5%AD%98-%E5%8A%A0%E8%BD%BD/"/>
    <id>https://blog.cooky.tk/2019/09/05/iptables-保存-加载/</id>
    <published>2019-09-05T07:22:46.000Z</published>
    <updated>2019-09-05T07:22:46.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="手动保存-加载"><a href="#手动保存-加载" class="headerlink" title="手动保存/加载"></a>手动保存/加载</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iptables-save &gt; /etc/iptables.rules</span><br><span class="line">iptables-restore &lt; /etc/iptables.rules</span><br></pre></td></tr></table></figure><h3 id="永久保存"><a href="#永久保存" class="headerlink" title="永久保存"></a>永久保存</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service iptables save</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables-save &gt; /etc/sysconfig/iptables</span><br></pre></td></tr></table></figure><blockquote></blockquote><p>使用该命令会将所有的防火墙规则保存在/etc/sysconfig/iptables文件中</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;手动保存-加载&quot;&gt;&lt;a href=&quot;#手动保存-加载&quot; class=&quot;headerlink&quot; title=&quot;手动保存/加载&quot;&gt;&lt;/a&gt;手动保存/加载&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=
      
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
    
      <category term="iptables" scheme="https://blog.cooky.tk/tags/iptables/"/>
    
  </entry>
  
  <entry>
    <title>git命令集</title>
    <link href="https://blog.cooky.tk/2019/09/05/git%E5%91%BD%E4%BB%A4%E9%9B%86/"/>
    <id>https://blog.cooky.tk/2019/09/05/git命令集/</id>
    <published>2019-09-05T07:14:46.000Z</published>
    <updated>2019-10-27T06:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Git设置"><a href="#Git设置" class="headerlink" title="Git设置"></a>Git设置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">git config --system --list</span><br><span class="line">git config --global --list</span><br><span class="line">git config --local  --list</span><br><span class="line"></span><br><span class="line">git config --global --unset &amp;lt;para&amp;gt;</span><br><span class="line"></span><br><span class="line">git config --global http.proxy &apos;socks5://192.168.111.12:1081&apos;</span><br><span class="line">git config --global https.proxy &apos;socks5://192.168.111.12:1081&apos;</span><br><span class="line">git config --global user.name &quot;Your Name&quot;</span><br><span class="line">git config --global user.email &quot;email@example.com&quot;</span><br><span class="line">git config --global color.ui true</span><br><span class="line">git config --global alias.&amp;lt;alias command&amp;gt; &quot;&amp;lt;git command&amp;gt;&quot;</span><br><span class="line">  * git config --global alias.lg &quot;log --color --graph --pretty=format:&apos;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&apos; --abbrev-commit&quot;</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="基本功能"><a href="#基本功能" class="headerlink" title="基本功能"></a>基本功能</h2><ul><li><span class="label default">git init</span> - 初始化一个Git仓库</li><li><span class="label default">git reflog</span> —— 查看<span class="label default">命令历史</span></li></ul><h2 id="工作区"><a href="#工作区" class="headerlink" title="工作区"></a>工作区</h2><ul><li><span class="label default">git status</span> —— 查看<span class="label default">工作区</span>的状态</li><li><span class="label default">git checkout -- &lt;file&gt;</span> —— 撤销文件在<span class="label default">工作区</span>的修改</li></ul><h2 id="版本库"><a href="#版本库" class="headerlink" title="版本库"></a>版本库</h2><ul><li><span class="label default">git reset --hard &lt;commit_id&gt;</span> —— 回到某个<span class="label default">版本库</span><ul><li><span class="label default">HEAD^</span>表示上个版本</li><li><span class="label default">HEAD^^</span>表示上上个版本</li><li><span class="label default">HEAD&#126;100</span>表示往上100个版本</li></ul></li></ul><h3 id="Log"><a href="#Log" class="headerlink" title="Log"></a>Log</h3><ul><li><span class="label default">git log</span> —— 查看<span class="label default">版本库</span>的<span class="label default">提交历史</span><ul><li><span class="label default">--pretty=oneline</span> —— 单行美化</li><li><span class="label default">--graph</span> —— 分支合并图</li><li><span class="label default">--abbrev-commit</span> —— 仅显示 SHA-1 的前几个字符</li></ul></li></ul><h3 id="变基"><a href="#变基" class="headerlink" title="变基"></a>变基</h3><ul><li><span class="label default">git rebase</span> —— 把<span class="label default">版本库</span>未提交到<span class="label default">远程库</span>的分叉<span class="label default">提交历史</span>整理成直线</li></ul><h2 id="工作区-lt-gt-暂存区"><a href="#工作区-lt-gt-暂存区" class="headerlink" title="工作区 &lt; - &gt; 暂存区"></a>工作区 &lt; - &gt; 暂存区</h2><ul><li><span class="label default">git diff &lt;file&gt;</span> —— 查看文件在<span class="label default">工作区</span>和<span class="label default">暂存区</span>的不同</li><li><span class="label default">git add &lt;file&gt;</span> —— 将<span class="label default">工作区</span>文件的新增&修改提交到<span class="label default">暂存区</span></li><li><span class="label default">git rm &lt;file&gt;</span> —— 将<span class="label default">工作区</span>的文件删除提交到<span class="label default">暂存区</span></li><li><span class="label default">git reset HEAD &lt;file&gt;</span> —— 撤销文件在<span class="label default">暂存区</span>的修改，重新放回<span class="label default">工作区</span></li></ul><h2 id="暂存区-lt-gt-版本库"><a href="#暂存区-lt-gt-版本库" class="headerlink" title="暂存区 &lt; - &gt; 版本库"></a>暂存区 &lt; - &gt; 版本库</h2><ul><li><span class="label default">git commit -m &lt;message&gt;</span> —— 将<span class="label default">暂存区</span>内容提交到<span class="label default">版本库</span></li></ul><h2 id="工作区-lt-gt-版本库"><a href="#工作区-lt-gt-版本库" class="headerlink" title="工作区 &lt; - &gt; 版本库"></a>工作区 &lt; - &gt; 版本库</h2><ul><li><span class="label default">git diff HEAD -- &lt;file&gt;</span> —— 查看文件在<span class="label default">工作区</span>和<span class="label default">版本库</span>的不同</li></ul><h2 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h2><ul><li><span class="label default">git branch &lt;branch&gt;</span> —— 创建新分支</li><li><span class="label default">git checkout &lt;branch&gt;</span> —— 切换到分支</li><li><span class="label default">git checkout -b &lt;branch&gt;</span> —— 创建并切换到新分支</li><li><span class="label default">git branch</span> —— 查看分支状态</li><li><span class="label default">git merge &lt;branch&gt; -m &lt;message&gt;</span> —— 合并其他分支到当前分支(Fast forward)<ul><li><span class="label default">git merge --no-ff &lt;branch&gt; -m &lt;message&gt;</span> —— 合并其他分支到当前分支(禁用Fast forward)</li><li>其中<span class="label default">-m &lt;message&gt</span>可在确认有冲突导致合并失败时不写，因为处理冲突后会有<span class="label default">git commit -m &lt;message&gt;</span>填写提交信息</li></ul></li><li><span class="label default">git branch -d &lt;branch&gt;</span> —— 删除指定分支(已合并)<ul><li><span class="label default">git branch -D &lt;branch&gt;</span> —— 强制删除指定分支(未合并)</li></ul></li></ul><h2 id="现场"><a href="#现场" class="headerlink" title="现场"></a>现场</h2><ul><li><span class="label default">git stash</span> —— 保留现场</li><li><span class="label default">git stash list</span> —— 查看保留的现场</li><li><span class="label default">git stash apply</span> —— 恢复现场</li><li><span class="label default">git stash apply stash</span> —— 恢复指定现场</li><li><span class="label default">git stash drop</span> —— 删除现场</li><li><span class="label default">git stash pop</span> —— 恢复并删除现场</li></ul><h2 id="”挑拣”提交"><a href="#”挑拣”提交" class="headerlink" title="”挑拣”提交"></a>”挑拣”提交</h2><ul><li><span class="label default">git cherry-pick &lt;commit_id&gt;</span> —— 将指定提交复制到当前分支</li></ul><h2 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h2><ul><li><span class="label default">git tag &lt;tagname&gt;</span> —— 为最新的提交打标签<ul><li><span class="label default">git tag &lt;tagname&gt; &lt;commit_id&gt;</span> —— 为指定的提交打标签</li><li><span class="label default">-a &lt;tagname&gt;</span> —— 指定标签名</li><li><span class="label default">-m &lt;message&gt;</span> —— 指定说明文字</li></ul></li><li><span class="label default">git tag -d &lt;tagname&gt;</span> —— 删除指定标签</li><li><span class="label default">git tag</span> —— 查看标签</li><li><span class="label default">git show &lt;tagname&gt;</span> —— 查看标签信息</li></ul><h2 id="远程库"><a href="#远程库" class="headerlink" title="远程库"></a>远程库</h2><ul><li><span class="label default">git remote</span> —— 查看远程库<ul><li><span class="label default">git remote -v</span> —— 查看远程库详细信息</li></ul></li><li><span class="label default">git remote add &lt;origin&gt; &lt;url&gt;</span> —— 绑定远程库</li><li><span class="label default">git remote rm &lt;origin&gt;</span> —— 删除远程库</li><li><span class="label default">git push &lt;origin&gt; &lt;branch&gt;</span> —— 推送本地分支到远程库<ul><li><span class="label default">git push -u &lt;origin&gt; &lt;branch&gt;</span> —— 推送本地分支并关联到远程库</li></ul></li><li><span class="label default">git clone &lt;origin&gt; &lt;url&gt;</span> —— 克隆远程库</li><li><span class="label default">git checkout -b &lt;branch&gt; &lt;origin&gt;/&lt;branch&gt;</span> —— 创建远程库分支的本地分支</li><li><span class="label default">git pull</span> —— 抓去远程库的最新提交</li><li><span class="label default">git branch --set-upstream-to=&lt;origin&gt;/&lt;branch&gt; &lt;branch&gt;</span> —— 设置远程分支和本地分支的链接</li><li><span class="label default">git push &lt;origin&gt; &lt;tagname&gt;</span> —— 推送标签到远程库<ul><li><span class="label default">git push &lt;origin&gt; --tags</span> —— 一次性推送全部尚未推送到远程的本地标签</li></ul></li><li><span class="label default">git push &lt;origin&gt; :refs/tags/&lt;tagname&gt;</span> —— 从远程删除标签</li></ul><h2 id="Git-Cheat-Sheet"><a href="#Git-Cheat-Sheet" class="headerlink" title="Git-Cheat-Sheet"></a>Git-Cheat-Sheet</h2><p><a href="/downloads/git-cheat-sheet.pdf">下载英文版PDF</a><br><img src="/uploads/git-cheat-sheet-large01-cn.png" alt><br><img src="/uploads/git-cheat-sheet-large02-cn.png" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Git设置&quot;&gt;&lt;a href=&quot;#Git设置&quot; class=&quot;headerlink&quot; title=&quot;Git设置&quot;&gt;&lt;/a&gt;Git设置&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git config --system --list&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --global --list&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --local  --list&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --global --unset &amp;amp;lt;para&amp;amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --global http.proxy &amp;apos;socks5://192.168.111.12:1081&amp;apos;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --global https.proxy &amp;apos;socks5://192.168.111.12:1081&amp;apos;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --global user.name &amp;quot;Your Name&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --global user.email &amp;quot;email@example.com&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --global color.ui true&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --global alias.&amp;amp;lt;alias command&amp;amp;gt; &amp;quot;&amp;amp;lt;git command&amp;amp;gt;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  * git config --global alias.lg &amp;quot;log --color --graph --pretty=format:&amp;apos;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&amp;lt;%an&amp;gt;%Creset&amp;apos; --abbrev-commit&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="git" scheme="https://blog.cooky.tk/categories/git/"/>
    
    
      <category term="集合" scheme="https://blog.cooky.tk/tags/%E9%9B%86%E5%90%88/"/>
    
  </entry>
  
</feed>
