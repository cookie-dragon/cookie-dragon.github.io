<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>曲奇技术</title>
  
  <subtitle>曲奇龙的技术部落格</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://blog.cooky.tk/"/>
  <updated>2019-09-05T08:07:05.000Z</updated>
  <id>https://blog.cooky.tk/</id>
  
  <author>
    <name>曲奇龙</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Docker加速器配置</title>
    <link href="https://blog.cooky.tk/2019/09/05/Docker%E5%8A%A0%E9%80%9F%E5%99%A8%E9%85%8D%E7%BD%AE/"/>
    <id>https://blog.cooky.tk/2019/09/05/Docker加速器配置/</id>
    <published>2019-09-05T08:07:05.000Z</published>
    <updated>2019-09-05T08:07:05.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="自安装Docker配置"><a href="#自安装Docker配置" class="headerlink" title="自安装Docker配置"></a>自安装Docker配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p /etc/docker</span><br><span class="line">sudo tee /etc/docker/daemon.json &lt;&lt;-&apos;EOF&apos;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;https://99m18m7c.mirror.aliyuncs.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure><h3 id="群辉Docker配置文件位置"><a href="#群辉Docker配置文件位置" class="headerlink" title="群辉Docker配置文件位置"></a>群辉Docker配置文件位置</h3><p>/var/packages/Docker/etc/dockerd.json</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;自安装Docker配置&quot;&gt;&lt;a href=&quot;#自安装Docker配置&quot; class=&quot;headerlink&quot; title=&quot;自安装Docker配置&quot;&gt;&lt;/a&gt;自安装Docker配置&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;tabl
      
    
    </summary>
    
    
      <category term="Docker" scheme="https://blog.cooky.tk/categories/Docker/"/>
    
    
      <category term="本地源" scheme="https://blog.cooky.tk/tags/%E6%9C%AC%E5%9C%B0%E6%BA%90/"/>
    
  </entry>
  
  <entry>
    <title>龙尚（LONGSUNG） U9300 模块 Linux驱动</title>
    <link href="https://blog.cooky.tk/2019/09/05/%E9%BE%99%E5%B0%9A%EF%BC%88LONGSUNG%EF%BC%89-U9300-%E6%A8%A1%E5%9D%97-Linux%E9%A9%B1%E5%8A%A8/"/>
    <id>https://blog.cooky.tk/2019/09/05/龙尚（LONGSUNG）-U9300-模块-Linux驱动/</id>
    <published>2019-09-05T07:52:11.000Z</published>
    <updated>2019-09-05T07:52:11.000Z</updated>
    
    <content type="html"><![CDATA[<p>硬件环境：友善之臂（FriendlyARM）Smart4418 SDK 1606<br>固件环境：s5p4418-eflasher-friendlycore-xenial-4.4-armhf-20180906.img<br>交叉编译环境：ubuntu-16.04.4-server-amd64</p><a id="more"></a><blockquote></blockquote><p>注意：NetworkManager会导致ppp模式拨号异常，请使用network管理网络<br>vi rmnm.sh</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"> </span><br><span class="line">apt-get --yes --force-yes remove --auto-remove --purge network-manager</span><br><span class="line">apt autoremove -y</span><br><span class="line"> </span><br><span class="line">cat &gt;/etc/network/interfaces &lt;&lt;INTERFACEEOL</span><br><span class="line">source-directory /etc/network/interfaces.d</span><br><span class="line"> </span><br><span class="line">auto lo</span><br><span class="line">iface lo inet loopback</span><br><span class="line"> </span><br><span class="line">allow-hotplug wlan0</span><br><span class="line">iface wlan0 inet dhcp</span><br><span class="line">        wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf</span><br><span class="line">INTERFACEEOL</span><br><span class="line"> </span><br><span class="line">cat &gt;/etc/network/interfaces.d/eth0 &lt;&lt;ETH0EOLB</span><br><span class="line">auto eth0</span><br><span class="line">    iface eth0 inet dhcp</span><br><span class="line">    hwaddress 76:92:d4:85:f3:0f</span><br><span class="line">ETH0EOLB</span><br></pre></td></tr></table></figure><p>chmod 755 rmnm.sh<br>sudo ./rmnm.sh</p><h3 id="交叉编译环境"><a href="#交叉编译环境" class="headerlink" title="交叉编译环境"></a>交叉编译环境</h3><ul><li>安装系统</li><li>apt-get update</li><li>apt安装<br>vim-gtk<br>git<br>make<br>bc<br>lsb-core<br>libssl-dev<br>libncurses*<br>minicom</li></ul><h4 id="工具链下载（操作目录：普通用户～）"><a href="#工具链下载（操作目录：普通用户～）" class="headerlink" title="工具链下载（操作目录：普通用户～）"></a>工具链下载（操作目录：普通用户～）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/friendlyarm/prebuilts.git</span><br></pre></td></tr></table></figure><h4 id="工具链配置（export最好配置到开机启动里）"><a href="#工具链配置（export最好配置到开机启动里）" class="headerlink" title="工具链配置（export最好配置到开机启动里）"></a>工具链配置（export最好配置到开机启动里）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p /opt/FriendlyARM/toolchain</span><br><span class="line">sudo tar xf prebuilts/gcc-x64/arm-cortexa9-linux-gnueabihf-4.9.3.tar.xz -C /opt/FriendlyARM/toolchain/</span><br><span class="line">export PATH=/opt/FriendlyARM/toolchain/4.9.3/bin:$PATH</span><br><span class="line">export GCC_COLORS=auto</span><br></pre></td></tr></table></figure><h4 id="内核下载"><a href="#内核下载" class="headerlink" title="内核下载"></a>内核下载</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/friendlyarm/linux.git -b nanopi2-v4.4.y --depth 1</span><br></pre></td></tr></table></figure><h4 id="内核配置（操作目录：普通用户～-linux，即内核根目录）"><a href="#内核配置（操作目录：普通用户～-linux，即内核根目录）" class="headerlink" title="内核配置（操作目录：普通用户～/linux，即内核根目录）"></a>内核配置（操作目录：普通用户～/linux，即内核根目录）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">touch .scmversion</span><br><span class="line">make ARCH=arm nanopi2_linux_defconfig</span><br><span class="line">make ARCH=arm CROSS_COMPILE=arm-cortexa9-linux-gnueabihf- menuconfig</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Device Drivers  ---&gt;</span><br><span class="line">[*] Network device support  ---&gt;</span><br><span class="line">&lt;*&gt;   PPP (point-to-point protocol) support</span><br><span class="line">&lt;*&gt;     PPP support for async serial ports</span><br><span class="line">&lt;*&gt;     PPP support for sync tty ports</span><br><span class="line">[*] USB support  ---&gt;</span><br><span class="line">&lt;*&gt;   USB Serial Converter support  ---&gt;</span><br><span class="line">&lt;*&gt;   USB driver for GSM and CDMA modems</span><br></pre></td></tr></table></figure><h4 id="增加具体设备驱动、USB-串口驱动过滤NDIS-接口"><a href="#增加具体设备驱动、USB-串口驱动过滤NDIS-接口" class="headerlink" title="增加具体设备驱动、USB 串口驱动过滤NDIS 接口"></a>增加具体设备驱动、USB 串口驱动过滤NDIS 接口</h4><p>drivers/usb/serial/option.c</p><p>在源码中找到option_ids 数组， 在数组中添加Longsung 产品的VID(0x1C9E) 和<br>PID(0x9B3C)。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#define LONGSUNG_VENDOR_ID0x1c9e</span><br><span class="line">#define LONGSUNG_U9300_PRODUCT_ID0x9b3c</span><br></pre></td></tr></table></figure><p>在option.c 中的opiton_ids 中添加blacklist，驱动在加载时会自动跳过blacklist 指定的interface；设置interface 4 不加载option驱动；</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">static const struct option_blacklist_info longssung_u9300_blacklist = &#123;</span><br><span class="line">.reserved = BIT(4),</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>添加blacklist 到option_ids 数组中。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123; USB_DEVICE(LONGSUNG_VENDOR_ID, LONGSUNG_U9300_PRODUCT_ID),</span><br><span class="line">          .driver_info = (kernel_ulong_t)&amp;longssung_u9300_blacklist</span><br><span class="line">        &#125;,</span><br></pre></td></tr></table></figure><h4 id="内核编译（操作目录：普通用户～-linux，即内核根目录）"><a href="#内核编译（操作目录：普通用户～-linux，即内核根目录）" class="headerlink" title="内核编译（操作目录：普通用户～/linux，即内核根目录）"></a>内核编译（操作目录：普通用户～/linux，即内核根目录）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make ARCH=arm</span><br></pre></td></tr></table></figure><p>编译成功结束后，新生成的内核是 arch/arm/boot/zImage，目录arch/arm/boot/dts/下还包括新的DTB文件(s5p4418-nanopi2-rev*.dtb)，用于替换掉SD卡boot分区下对应的文件。<br>s5p4418-nanopi2-rev01.dtb<br>s5p4418-nanopi2-rev02.dtb<br>s5p4418-nanopi2-rev03.dtb<br>s5p4418-nanopi2-rev04.dtb<br>s5p4418-nanopi2-rev07.dtb<br>s5p4418-nanopi2-rev103.dtb<br>zImage</p><h4 id="内核替换"><a href="#内核替换" class="headerlink" title="内核替换"></a>内核替换</h4><p>挂载boot分区（mount /dev/mmcblk0p1 /boot/）<br>使用sftp传输替换文件<br>更新完成后，输入 reboot 命令重启即可，注意不要直接断电或按Reset键，否则可能会损坏文件。</p><h3 id="板上环境"><a href="#板上环境" class="headerlink" title="板上环境"></a>板上环境</h3><h4 id="加载USB-串口驱动"><a href="#加载USB-串口驱动" class="headerlink" title="加载USB 串口驱动"></a>加载USB 串口驱动</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo modprobe option</span><br></pre></td></tr></table></figure><h4 id="使能设备（1c9e-9b3c分别为VID、PID）"><a href="#使能设备（1c9e-9b3c分别为VID、PID）" class="headerlink" title="使能设备（1c9e 9b3c分别为VID、PID）"></a>使能设备（1c9e 9b3c分别为VID、PID）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo echo 1c9e 9b3c &gt; /sys/bus/usb-serial/drivers/option1/new_id</span><br></pre></td></tr></table></figure><p>这个操作之后应该就能够看到 /dev 下多了 ttyUSB0、ttyUSB1、ttyUSB2 几个设备节点了。<br>使用dmesg 命令查看系统log，USB 串口驱动已经被加载。</p><h4 id="交互AT配置"><a href="#交互AT配置" class="headerlink" title="交互AT配置"></a>交互AT配置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">minicom –s </span><br><span class="line">Serial port setup -&gt; Serial device -&gt; /dev/ttyUSB2</span><br><span class="line">Save setup as df1</span><br><span class="line">exit</span><br></pre></td></tr></table></figure><blockquote></blockquote><p>注意：串口中AT(ttyUSB2)，Modem(ttyUSB1)可以发AT 命令，其他不能发AT指令</p><h4 id="AT命令"><a href="#AT命令" class="headerlink" title="AT命令"></a>AT命令</h4><p>打开回显（ATE）<br>查询版本信息（AT+LCTSW）<br>查询信号（AT+CSQ）<br>注册状态（AT+CREG?）<br>网络运营商信息（AT+COPS?）</p><h4 id="拨号上网配置"><a href="#拨号上网配置" class="headerlink" title="拨号上网配置"></a>拨号上网配置</h4><p>vim /etc/ppp/chat/gprs-connect-chat </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">TIMEOUT15</span><br><span class="line">ABORT&quot;DELAYED&quot;</span><br><span class="line">ABORT&quot;BUSY&quot;</span><br><span class="line">ABORT&quot;ERROR&quot;</span><br><span class="line">ABORT&quot;NO DIALTONE&quot;</span><br><span class="line">ABORT&quot;NO CARRIER&quot;</span><br><span class="line">TIMEOUT40</span><br><span class="line">&apos;&apos;\rAT</span><br><span class="line">OKATS0=0</span><br><span class="line">OKATE0V1</span><br><span class="line">OKAT+CGDCONT=1,\&quot;IP\&quot;,\&quot;CMNET\&quot;</span><br><span class="line">OKATDT*99***1#</span><br><span class="line">CONNECT &apos;&apos;</span><br></pre></td></tr></table></figure><blockquote></blockquote><p>其中CMNET为中国移动的APN，按需修改</p><p>vim /etc/ppp/options </p><p>找到auth 字样的行然后将其改为#auth，这样在拨号过程中就不会提示需要身份验证</p><p>vim /etc/ppp/peer/gprs </p><blockquote></blockquote><p>必须指定Modem口是ttyUSB1 </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># Usage: root&gt;pppd call gprs</span><br><span class="line">/dev/ttyUSB1</span><br><span class="line">9600</span><br><span class="line">crtscts</span><br><span class="line">modem</span><br><span class="line">#noauth</span><br><span class="line">debug</span><br><span class="line">nodetach</span><br><span class="line">#hide-password</span><br><span class="line">usepeerdns</span><br><span class="line">noipdefault</span><br><span class="line">defaultroute</span><br><span class="line">0.0.0.0:0.0.0.0</span><br><span class="line">ipcp-accept-local</span><br><span class="line">ipcp-accept-remote</span><br><span class="line">#lcp-echo-failure 12</span><br><span class="line">#lcp-echo-interval 3</span><br><span class="line">#noccp</span><br><span class="line">#novj</span><br><span class="line">#novjccomp</span><br><span class="line">#persist</span><br><span class="line">connect &apos;/usr/sbin/chat -s -v -f /etc/ppp/chat/gprs-connect-chat&apos;</span><br></pre></td></tr></table></figure><h4 id="拨号上网"><a href="#拨号上网" class="headerlink" title="拨号上网"></a>拨号上网</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pppd call gprs</span><br></pre></td></tr></table></figure><blockquote></blockquote><p>通过ifconfig、ping、apt-get update来检查网络</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;硬件环境：友善之臂（FriendlyARM）Smart4418 SDK 1606&lt;br&gt;固件环境：s5p4418-eflasher-friendlycore-xenial-4.4-armhf-20180906.img&lt;br&gt;交叉编译环境：ubuntu-16.04.4-server-amd64&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
      <category term="嵌入式" scheme="https://blog.cooky.tk/categories/Linux/%E5%B5%8C%E5%85%A5%E5%BC%8F/"/>
    
    
      <category term="驱动" scheme="https://blog.cooky.tk/tags/%E9%A9%B1%E5%8A%A8/"/>
    
      <category term="4G" scheme="https://blog.cooky.tk/tags/4G/"/>
    
  </entry>
  
  <entry>
    <title>Linux注册ko驱动</title>
    <link href="https://blog.cooky.tk/2019/09/05/Linux%E6%B3%A8%E5%86%8Cko%E9%A9%B1%E5%8A%A8/"/>
    <id>https://blog.cooky.tk/2019/09/05/Linux注册ko驱动/</id>
    <published>2019-09-05T07:42:38.000Z</published>
    <updated>2019-09-05T07:42:38.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="复制ko驱动"><a href="#复制ko驱动" class="headerlink" title="复制ko驱动"></a>复制ko驱动</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp 8188eu.ko /lib/modules/3.2.0/</span><br></pre></td></tr></table></figure><h4 id="临时注册驱动"><a href="#临时注册驱动" class="headerlink" title="临时注册驱动"></a>临时注册驱动</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insmod /lib/modules/3.2.0/8188eu.ko</span><br></pre></td></tr></table></figure><h4 id="持久化注册驱动"><a href="#持久化注册驱动" class="headerlink" title="持久化注册驱动"></a>持久化注册驱动</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /lib/modules/3.2.0/</span><br><span class="line">depmod</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;复制ko驱动&quot;&gt;&lt;a href=&quot;#复制ko驱动&quot; class=&quot;headerlink&quot; title=&quot;复制ko驱动&quot;&gt;&lt;/a&gt;复制ko驱动&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gut
      
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
      <category term="嵌入式" scheme="https://blog.cooky.tk/categories/Linux/%E5%B5%8C%E5%85%A5%E5%BC%8F/"/>
    
    
      <category term="驱动" scheme="https://blog.cooky.tk/tags/%E9%A9%B1%E5%8A%A8/"/>
    
  </entry>
  
  <entry>
    <title>内核编译-网卡桥接</title>
    <link href="https://blog.cooky.tk/2019/09/05/%E5%86%85%E6%A0%B8%E7%BC%96%E8%AF%91-%E7%BD%91%E5%8D%A1%E6%A1%A5%E6%8E%A5/"/>
    <id>https://blog.cooky.tk/2019/09/05/内核编译-网卡桥接/</id>
    <published>2019-09-05T07:38:31.000Z</published>
    <updated>2019-09-05T07:38:31.000Z</updated>
    
    <content type="html"><![CDATA[<p>make menuconfig<br>make ARCH=arm menuconfig</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[*] Networking support ---&gt;</span><br><span class="line">Networking options ---&gt;</span><br><span class="line">&lt;*&gt; 802.1d Ethernet Bridging</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;make menuconfig&lt;br&gt;make ARCH=arm menuconfig&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/
      
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
      <category term="内核编译" scheme="https://blog.cooky.tk/categories/Linux/%E5%86%85%E6%A0%B8%E7%BC%96%E8%AF%91/"/>
    
    
      <category term="menuconfig" scheme="https://blog.cooky.tk/tags/menuconfig/"/>
    
  </entry>
  
  <entry>
    <title>内核编译-虚拟网络设备tun/tap</title>
    <link href="https://blog.cooky.tk/2019/09/05/%E5%86%85%E6%A0%B8%E7%BC%96%E8%AF%91-%E8%99%9A%E6%8B%9F%E7%BD%91%E7%BB%9C%E8%AE%BE%E5%A4%87tun-tap/"/>
    <id>https://blog.cooky.tk/2019/09/05/内核编译-虚拟网络设备tun-tap/</id>
    <published>2019-09-05T07:37:52.000Z</published>
    <updated>2019-09-05T07:37:52.000Z</updated>
    
    <content type="html"><![CDATA[<p>make menuconfig<br>make ARCH=arm menuconfig</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Device Drivers ---&gt;</span><br><span class="line">[*] Network device support ---&gt;</span><br><span class="line">&lt;*&gt; Universal TUN/TAP device driver support</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;make menuconfig&lt;br&gt;make ARCH=arm menuconfig&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/
      
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
      <category term="内核编译" scheme="https://blog.cooky.tk/categories/Linux/%E5%86%85%E6%A0%B8%E7%BC%96%E8%AF%91/"/>
    
    
      <category term="menuconfig" scheme="https://blog.cooky.tk/tags/menuconfig/"/>
    
  </entry>
  
  <entry>
    <title>内核编译-NAT转发</title>
    <link href="https://blog.cooky.tk/2019/09/05/%E5%86%85%E6%A0%B8%E7%BC%96%E8%AF%91-NAT%E8%BD%AC%E5%8F%91/"/>
    <id>https://blog.cooky.tk/2019/09/05/内核编译-NAT转发/</id>
    <published>2019-09-05T07:36:23.000Z</published>
    <updated>2019-09-05T07:36:23.000Z</updated>
    
    <content type="html"><![CDATA[<p>make menuconfig<br>make ARCH=arm menuconfig</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[*] Networking support ---&gt;</span><br><span class="line">Networking options ---&gt;</span><br><span class="line">[*] Network packet filtering framework (Netfilter) ---&gt;</span><br><span class="line">Core Netfilter Configuration ---&gt;</span><br><span class="line">&lt;*&gt; Netfilter connection tracking support</span><br><span class="line">&lt;*&gt; NetBIOS name service protocol support</span><br><span class="line">-*- Netfilter Xtables support (required for ip_tables)</span><br><span class="line">IP: Netfilter Configuration ---&gt;</span><br><span class="line">&lt;*&gt; IPv4 connection tracking support (required for NAT)</span><br><span class="line">&lt;*&gt; IP tables support (required for filtering/masq/NAT)</span><br><span class="line">&lt;*&gt; iptables NAT support</span><br><span class="line">&lt;*&gt; MASQUERADE target support</span><br><span class="line">&lt;*&gt; REDIRECT target support</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;make menuconfig&lt;br&gt;make ARCH=arm menuconfig&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/
      
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
      <category term="内核编译" scheme="https://blog.cooky.tk/categories/Linux/%E5%86%85%E6%A0%B8%E7%BC%96%E8%AF%91/"/>
    
    
      <category term="menuconfig" scheme="https://blog.cooky.tk/tags/menuconfig/"/>
    
  </entry>
  
  <entry>
    <title>内核编译-4G网卡驱动</title>
    <link href="https://blog.cooky.tk/2019/09/05/%E5%86%85%E6%A0%B8%E7%BC%96%E8%AF%91-4G%E7%BD%91%E5%8D%A1%E9%A9%B1%E5%8A%A8/"/>
    <id>https://blog.cooky.tk/2019/09/05/内核编译-4G网卡驱动/</id>
    <published>2019-09-05T07:33:35.000Z</published>
    <updated>2019-09-05T07:33:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>make menuconfig<br>make ARCH=arm menuconfig</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Device Drivers ---&gt;</span><br><span class="line">[*] Network device support ---&gt;</span><br><span class="line">&lt;*&gt; PPP (point-to-point protocol) support</span><br><span class="line">&lt;*&gt; PPP support for async serial ports</span><br><span class="line">&lt;*&gt; PPP support for sync tty ports</span><br><span class="line">[*] USB support ---&gt;</span><br><span class="line">&lt;*&gt; USB Serial Converter support ---&gt;</span><br><span class="line">&lt;*&gt; USB driver for GSM and CDMA modems</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;make menuconfig&lt;br&gt;make ARCH=arm menuconfig&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/
      
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
      <category term="内核编译" scheme="https://blog.cooky.tk/categories/Linux/%E5%86%85%E6%A0%B8%E7%BC%96%E8%AF%91/"/>
    
    
      <category term="menuconfig" scheme="https://blog.cooky.tk/tags/menuconfig/"/>
    
  </entry>
  
  <entry>
    <title>Linux设置forward转发</title>
    <link href="https://blog.cooky.tk/2019/09/05/Linux%E8%AE%BE%E7%BD%AEforward%E8%BD%AC%E5%8F%91/"/>
    <id>https://blog.cooky.tk/2019/09/05/Linux设置forward转发/</id>
    <published>2019-09-05T07:29:58.000Z</published>
    <updated>2019-09-05T07:29:58.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Set-ip-forward"><a href="#Set-ip-forward" class="headerlink" title="Set ip_forward"></a>Set ip_forward</h3><p>vim /etc/sysctl.conf</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net.ipv4.ip_forward=1</span><br></pre></td></tr></table></figure><h3 id="Check-ip-forward"><a href="#Check-ip-forward" class="headerlink" title="Check ip_forward"></a>Check ip_forward</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl net.ipv4.ip_forward</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Set-ip-forward&quot;&gt;&lt;a href=&quot;#Set-ip-forward&quot; class=&quot;headerlink&quot; title=&quot;Set ip_forward&quot;&gt;&lt;/a&gt;Set ip_forward&lt;/h3&gt;&lt;p&gt;vim /etc/sysctl.conf&lt;/
      
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
    
      <category term="forward" scheme="https://blog.cooky.tk/tags/forward/"/>
    
  </entry>
  
  <entry>
    <title>route 网关设置</title>
    <link href="https://blog.cooky.tk/2019/09/05/route-%E7%BD%91%E5%85%B3%E8%AE%BE%E7%BD%AE/"/>
    <id>https://blog.cooky.tk/2019/09/05/route-网关设置/</id>
    <published>2019-09-05T07:28:24.000Z</published>
    <updated>2019-09-05T07:28:24.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Delete-default-Gateway"><a href="#Delete-default-Gateway" class="headerlink" title="Delete default Gateway"></a>Delete default Gateway</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">route del default</span><br></pre></td></tr></table></figure><h3 id="Add-default-Gateway"><a href="#Add-default-Gateway" class="headerlink" title="Add default Gateway"></a>Add default Gateway</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">route add default gw 192.168.200.1</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Delete-default-Gateway&quot;&gt;&lt;a href=&quot;#Delete-default-Gateway&quot; class=&quot;headerlink&quot; title=&quot;Delete default Gateway&quot;&gt;&lt;/a&gt;Delete default Gatew
      
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
    
      <category term="route" scheme="https://blog.cooky.tk/tags/route/"/>
    
  </entry>
  
  <entry>
    <title>iptables NAT转发</title>
    <link href="https://blog.cooky.tk/2019/09/05/iptables-NAT%E8%BD%AC%E5%8F%91/"/>
    <id>https://blog.cooky.tk/2019/09/05/iptables-NAT转发/</id>
    <published>2019-09-05T07:25:58.000Z</published>
    <updated>2019-09-05T07:25:58.000Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE</span><br><span class="line">iptables -A FORWARD -i eth0 -o eth1 -m state --state RELATED,ESTABLISHED -j ACCEPT</span><br><span class="line">iptables -A FORWARD -i eth0 -o eth1 -j ACCEPT</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class
      
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
    
      <category term="iptables" scheme="https://blog.cooky.tk/tags/iptables/"/>
    
  </entry>
  
  <entry>
    <title>iptables 保存/加载</title>
    <link href="https://blog.cooky.tk/2019/09/05/iptables-%E4%BF%9D%E5%AD%98-%E5%8A%A0%E8%BD%BD/"/>
    <id>https://blog.cooky.tk/2019/09/05/iptables-保存-加载/</id>
    <published>2019-09-05T07:22:46.000Z</published>
    <updated>2019-09-05T07:22:46.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="手动保存-加载"><a href="#手动保存-加载" class="headerlink" title="手动保存/加载"></a>手动保存/加载</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iptables-save &gt; /etc/iptables.rules</span><br><span class="line">iptables-restore &lt; /etc/iptables.rules</span><br></pre></td></tr></table></figure><h3 id="永久保存"><a href="#永久保存" class="headerlink" title="永久保存"></a>永久保存</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service iptables save</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables-save &gt; /etc/sysconfig/iptables</span><br></pre></td></tr></table></figure><blockquote></blockquote><p>使用该命令会将所有的防火墙规则保存在/etc/sysconfig/iptables文件中</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;手动保存-加载&quot;&gt;&lt;a href=&quot;#手动保存-加载&quot; class=&quot;headerlink&quot; title=&quot;手动保存/加载&quot;&gt;&lt;/a&gt;手动保存/加载&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=
      
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
    
      <category term="iptables" scheme="https://blog.cooky.tk/tags/iptables/"/>
    
  </entry>
  
  <entry>
    <title>git代理设置/取消</title>
    <link href="https://blog.cooky.tk/2019/09/05/git%E4%BB%A3%E7%90%86%E8%AE%BE%E7%BD%AE-%E5%8F%96%E6%B6%88/"/>
    <id>https://blog.cooky.tk/2019/09/05/git代理设置-取消/</id>
    <published>2019-09-05T07:14:46.000Z</published>
    <updated>2019-09-05T07:14:46.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.proxy &apos;socks5://192.168.111.12:1081&apos;</span><br><span class="line">git config --global https.proxy &apos;socks5://192.168.111.12:1081&apos;</span><br></pre></td></tr></table></figure><h3 id="取消"><a href="#取消" class="headerlink" title="取消"></a>取消</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global --unset http.proxy</span><br><span class="line">git config --global --unset https.proxy</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;设置&quot;&gt;&lt;a href=&quot;#设置&quot; class=&quot;headerlink&quot; title=&quot;设置&quot;&gt;&lt;/a&gt;设置&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span 
      
    
    </summary>
    
    
      <category term="git" scheme="https://blog.cooky.tk/categories/git/"/>
    
    
      <category term="代理" scheme="https://blog.cooky.tk/tags/%E4%BB%A3%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>交叉编译-zlib</title>
    <link href="https://blog.cooky.tk/2019/09/05/%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91-zlib/"/>
    <id>https://blog.cooky.tk/2019/09/05/交叉编译-zlib/</id>
    <published>2019-09-05T07:05:05.000Z</published>
    <updated>2019-09-05T07:05:05.000Z</updated>
    
    <content type="html"><![CDATA[<p>版本：<br>zlib-1.2.11</p><a id="more"></a><h2 id="zlib-1-2-11"><a href="#zlib-1-2-11" class="headerlink" title="zlib-1.2.11"></a>zlib-1.2.11</h2><h3 id="配置交叉编译工具链绝对路径"><a href="#配置交叉编译工具链绝对路径" class="headerlink" title="配置交叉编译工具链绝对路径"></a>配置交叉编译工具链绝对路径</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">export CC=/opt/Crosscompile/hzmct/toolchain/gcc-linaro-arm-linux-gnueabihf-4.7-2013.03-20130313_linux/bin/arm-linux-gnueabihf-gcc</span><br><span class="line">export CXX=/opt/Crosscompile/hzmct/toolchain/gcc-linaro-arm-linux-gnueabihf-4.7-2013.03-20130313_linux/bin/arm-linux-gnueabihf-g++</span><br><span class="line">export AR=/opt/Crosscompile/hzmct/toolchain/gcc-linaro-arm-linux-gnueabihf-4.7-2013.03-20130313_linux/bin/arm-linux-gnueabihf-ar</span><br><span class="line">export RANLIB=/opt/Crosscompile/hzmct/toolchain/gcc-linaro-arm-linux-gnueabihf-4.7-2013.03-20130313_linux/bin/arm-linux-gnueabihf-ranlib</span><br></pre></td></tr></table></figure><h3 id="执行交叉编译配置"><a href="#执行交叉编译配置" class="headerlink" title="执行交叉编译配置"></a>执行交叉编译配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./configure \</span><br><span class="line">--prefix=/opt/Crosscompile/buildComplete/zlib-1.2.11</span><br></pre></td></tr></table></figure><h3 id="执行make和make-install"><a href="#执行make和make-install" class="headerlink" title="执行make和make install"></a>执行make和make install</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure><h3 id="重启交叉编译环境"><a href="#重启交叉编译环境" class="headerlink" title="重启交叉编译环境"></a>重启交叉编译环境</h3><blockquote></blockquote><p>由于配置交叉编译工具链绝对路径，会导致其他使用相对交叉编译工具链程序编译错误，所以重启一下比较好</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;版本：&lt;br&gt;zlib-1.2.11&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
      <category term="交叉编译" scheme="https://blog.cooky.tk/categories/Linux/%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/"/>
    
    
      <category term="动态库" scheme="https://blog.cooky.tk/tags/%E5%8A%A8%E6%80%81%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>交叉编译-bzip2</title>
    <link href="https://blog.cooky.tk/2019/09/05/%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91-bzip2/"/>
    <id>https://blog.cooky.tk/2019/09/05/交叉编译-bzip2/</id>
    <published>2019-09-05T07:02:32.000Z</published>
    <updated>2019-09-05T07:02:32.000Z</updated>
    
    <content type="html"><![CDATA[<p>版本：<br>bzip2-1.0.6</p><a id="more"></a><h2 id="bzip2-1-0-6"><a href="#bzip2-1-0-6" class="headerlink" title="bzip2-1.0.6"></a>bzip2-1.0.6</h2><h3 id="修改Makefile"><a href="#修改Makefile" class="headerlink" title="修改Makefile"></a>修改Makefile</h3><p>vim Makefile</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"># To assist in cross-compiling</span><br><span class="line">CC=arm-linux-gnueabihf-gcc -fPIC</span><br><span class="line">AR=arm-linux-gnueabihf-ar</span><br><span class="line">RANLIB=arm-linux-gnueabihf-ranlib</span><br><span class="line">LDFLAGS=</span><br><span class="line"></span><br><span class="line">BIGFILES=-D_FILE_OFFSET_BITS=32</span><br><span class="line">CFLAGS=-Wall -Winline -O2 -g $(BIGFILES)</span><br><span class="line"></span><br><span class="line"># Where you want it installed when you do &apos;make install&apos;</span><br><span class="line">PREFIX=/opt/Crosscompile/buildComplete/bzip2-1.0.6</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">check: test</span><br><span class="line">test: bzip2</span><br><span class="line"># @cat words1</span><br><span class="line"># ./bzip2 -1 &lt; sample1.ref &gt; sample1.rb2</span><br><span class="line"># ./bzip2 -2 &lt; sample2.ref &gt; sample2.rb2</span><br><span class="line"># ./bzip2 -3 &lt; sample3.ref &gt; sample3.rb2</span><br><span class="line"># ./bzip2 -d &lt; sample1.bz2 &gt; sample1.tst</span><br><span class="line"># ./bzip2 -d &lt; sample2.bz2 &gt; sample2.tst</span><br><span class="line"># ./bzip2 -ds &lt; sample3.bz2 &gt; sample3.tst</span><br><span class="line"># cmp sample1.bz2 sample1.rb2</span><br><span class="line"># cmp sample2.bz2 sample2.rb2</span><br><span class="line"># cmp sample3.bz2 sample3.rb2</span><br><span class="line"># cmp sample1.tst sample1.ref</span><br><span class="line"># cmp sample2.tst sample2.ref</span><br><span class="line"># cmp sample3.tst sample3.ref</span><br><span class="line"># @cat words3</span><br></pre></td></tr></table></figure><h3 id="执行make和make-install"><a href="#执行make和make-install" class="headerlink" title="执行make和make install"></a>执行make和make install</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;版本：&lt;br&gt;bzip2-1.0.6&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
      <category term="交叉编译" scheme="https://blog.cooky.tk/categories/Linux/%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/"/>
    
    
      <category term="动态库" scheme="https://blog.cooky.tk/tags/%E5%8A%A8%E6%80%81%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>交叉编译-gdbm</title>
    <link href="https://blog.cooky.tk/2019/09/05/%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91-gdbm/"/>
    <id>https://blog.cooky.tk/2019/09/05/交叉编译-gdbm/</id>
    <published>2019-09-05T07:01:51.000Z</published>
    <updated>2019-09-05T07:01:51.000Z</updated>
    
    <content type="html"><![CDATA[<p>版本：<br>gdbm-1.18.1</p><a id="more"></a><h2 id="gdbm-1-18-1"><a href="#gdbm-1-18-1" class="headerlink" title="gdbm-1.18.1"></a>gdbm-1.18.1</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">./configure \</span><br><span class="line">CC=arm-linux-gnueabihf-gcc \</span><br><span class="line">CXX=arm-linux-gnueabihf-g++ \</span><br><span class="line">AR=arm-linux-gnueabihf-ar \</span><br><span class="line">RANLIB=arm-linux-gnueabihf-ranlib \</span><br><span class="line">--host=arm-linux-gnueabihf \</span><br><span class="line">--prefix=/opt/Crosscompile/buildComplete/gdbm-1.18.1</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;版本：&lt;br&gt;gdbm-1.18.1&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
      <category term="交叉编译" scheme="https://blog.cooky.tk/categories/Linux/%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/"/>
    
    
      <category term="动态库" scheme="https://blog.cooky.tk/tags/%E5%8A%A8%E6%80%81%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>交叉编译-readline</title>
    <link href="https://blog.cooky.tk/2019/09/05/%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91-readline/"/>
    <id>https://blog.cooky.tk/2019/09/05/交叉编译-readline/</id>
    <published>2019-09-05T07:01:14.000Z</published>
    <updated>2019-09-05T07:01:14.000Z</updated>
    
    <content type="html"><![CDATA[<p>版本：<br>readline-8.0</p><a id="more"></a><h2 id="readline-8-0"><a href="#readline-8-0" class="headerlink" title="readline-8.0"></a>readline-8.0</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">./configure \</span><br><span class="line">CC=arm-linux-gnueabihf-gcc \</span><br><span class="line">CXX=arm-linux-gnueabihf-g++ \</span><br><span class="line">AR=arm-linux-gnueabihf-ar \</span><br><span class="line">RANLIB=arm-linux-gnueabihf-ranlib \</span><br><span class="line">--host=arm-linux-gnueabihf \</span><br><span class="line">--prefix=/opt/Crosscompile/buildComplete/readline-8.0</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;版本：&lt;br&gt;readline-8.0&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
      <category term="交叉编译" scheme="https://blog.cooky.tk/categories/Linux/%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/"/>
    
    
      <category term="动态库" scheme="https://blog.cooky.tk/tags/%E5%8A%A8%E6%80%81%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>交叉编译-sqlite</title>
    <link href="https://blog.cooky.tk/2019/09/05/%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91-sqlite/"/>
    <id>https://blog.cooky.tk/2019/09/05/交叉编译-sqlite/</id>
    <published>2019-09-05T07:00:40.000Z</published>
    <updated>2019-09-05T07:00:40.000Z</updated>
    
    <content type="html"><![CDATA[<p>版本：<br>sqlite-3.28</p><a id="more"></a><h2 id="sqlite-3-28"><a href="#sqlite-3-28" class="headerlink" title="sqlite-3.28"></a>sqlite-3.28</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">./configure \</span><br><span class="line">CC=arm-linux-gnueabihf-gcc \</span><br><span class="line">CXX=arm-linux-gnueabihf-g++ \</span><br><span class="line">AR=arm-linux-gnueabihf-ar \</span><br><span class="line">RANLIB=arm-linux-gnueabihf-ranlib \</span><br><span class="line">--host=arm-linux-gnueabihf \</span><br><span class="line">--prefix=/opt/Crosscompile/buildComplete/sqlite-3.28</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;版本：&lt;br&gt;sqlite-3.28&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
      <category term="交叉编译" scheme="https://blog.cooky.tk/categories/Linux/%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/"/>
    
    
      <category term="动态库" scheme="https://blog.cooky.tk/tags/%E5%8A%A8%E6%80%81%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>交叉编译-openssl</title>
    <link href="https://blog.cooky.tk/2019/09/05/%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91-openssl/"/>
    <id>https://blog.cooky.tk/2019/09/05/交叉编译-openssl/</id>
    <published>2019-09-05T06:59:54.000Z</published>
    <updated>2019-09-05T06:59:54.000Z</updated>
    
    <content type="html"><![CDATA[<p>版本：<br>openssl-1.0.2s</p><a id="more"></a><h2 id="openssl-1-0-2s"><a href="#openssl-1-0-2s" class="headerlink" title="openssl-1.0.2s"></a>openssl-1.0.2s</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">./Configure -shared no-asm linux-armv4 \</span><br><span class="line">--prefix=/opt/Crosscompile/buildComplete/openssl-1.0.2s \</span><br><span class="line">--openssldir=/opt/Crosscompile/buildComplete/openssl-1.0.2s/ssl \</span><br><span class="line">--target=arm-linux-gnueabihf \</span><br><span class="line">--cross-compile-prefix=arm-linux-gnueabihf-</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;版本：&lt;br&gt;openssl-1.0.2s&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
      <category term="交叉编译" scheme="https://blog.cooky.tk/categories/Linux/%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/"/>
    
    
      <category term="动态库" scheme="https://blog.cooky.tk/tags/%E5%8A%A8%E6%80%81%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>交叉编译-curl</title>
    <link href="https://blog.cooky.tk/2019/09/05/%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91-curl/"/>
    <id>https://blog.cooky.tk/2019/09/05/交叉编译-curl/</id>
    <published>2019-09-05T06:57:41.000Z</published>
    <updated>2019-09-05T06:57:41.000Z</updated>
    
    <content type="html"><![CDATA[<p>版本：<br>curl-7.65.1<br>依赖：<br>openssl-1.0.2s<br>zlib-1.2.11</p><a id="more"></a><h2 id="curl-7-65-1"><a href="#curl-7-65-1" class="headerlink" title="curl-7.65.1"></a>curl-7.65.1</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">./configure \</span><br><span class="line">CPPFLAGS=&quot;-I /opt/Crosscompile/buildComplete/openssl-1.0.2s/include -I /opt/Crosscompile/buildComplete/zlib-1.2.11/include&quot; \</span><br><span class="line">LDFLAGS=&quot;-L /opt/Crosscompile/buildComplete/openssl-1.0.2s/lib -L /opt/Crosscompile/buildComplete/zlib-1.2.11/lib&quot; \</span><br><span class="line">LIBS=&quot;-ldl -lssl -lcrypto&quot; \</span><br><span class="line">--host=arm-linux-gnueabihf \</span><br><span class="line">--target=arm-linux-gnueabihf \</span><br><span class="line">--build=x86_64-linux-gnu \</span><br><span class="line">CXX=arm-linux-gnueabihf-g++ \</span><br><span class="line">AR=arm-linux-gnueabihf-ar \</span><br><span class="line">AS=arm-linux-gnueabihf-as \</span><br><span class="line">LD=arm-linux-gnueabihf-ld \</span><br><span class="line">RANLIB=arm-linux-gnueabihf-ranlib \</span><br><span class="line">CC=arm-linux-gnueabihf-gcc \</span><br><span class="line">NM=arm-linux-gnueabihf-nm \</span><br><span class="line">--with-ssl=/opt/Crosscompile/buildComplete/openssl-1.0.2s \</span><br><span class="line">--with-zlib=/opt/Crosscompile/buildComplete/zlib-1.2.11 \</span><br><span class="line">--enable-shared \</span><br><span class="line">--prefix=/opt/Crosscompile/buildComplete/curl-7.65.1</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;版本：&lt;br&gt;curl-7.65.1&lt;br&gt;依赖：&lt;br&gt;openssl-1.0.2s&lt;br&gt;zlib-1.2.11&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
      <category term="交叉编译" scheme="https://blog.cooky.tk/categories/Linux/%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/"/>
    
    
      <category term="动态库" scheme="https://blog.cooky.tk/tags/%E5%8A%A8%E6%80%81%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>交叉编译-paho.mqtt.c</title>
    <link href="https://blog.cooky.tk/2019/09/05/%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91-paho-mqtt-c/"/>
    <id>https://blog.cooky.tk/2019/09/05/交叉编译-paho-mqtt-c/</id>
    <published>2019-09-05T06:55:48.000Z</published>
    <updated>2019-09-05T06:55:48.000Z</updated>
    
    <content type="html"><![CDATA[<p>版本：<br>paho.mqtt.c -1.3.1<br>依赖：<br>openssl-1.0.2s</p><a id="more"></a><h2 id="paho-mqtt-c-1-3-1"><a href="#paho-mqtt-c-1-3-1" class="headerlink" title="paho.mqtt.c -1.3.1"></a>paho.mqtt.c -1.3.1</h2><h3 id="修改Makefile"><a href="#修改Makefile" class="headerlink" title="修改Makefile"></a>修改Makefile</h3><p>vim Makefile</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">prefix = /opt/Crosscompile/buildComplete/paho.mqtt.c-1.3.1</span><br><span class="line"></span><br><span class="line">CC = arm-linux-gnueabihf-gcc -lrt</span><br><span class="line">CFLAGS += -I /opt/Crosscompile/buildComplete/openssl-1.0.2s/include/</span><br><span class="line">LDFLAGS += -L /opt/Crosscompile/buildComplete/openssl-1.0.2s/lib/</span><br><span class="line"></span><br><span class="line">install: build</span><br><span class="line">mkdir -p $(DESTDIR)$&#123;bindir&#125;</span><br><span class="line">mkdir -p $(DESTDIR)$&#123;libdir&#125;</span><br><span class="line">mkdir -p $(DESTDIR)$&#123;man1dir&#125;</span><br><span class="line">mkdir -p $(DESTDIR)$&#123;man3dir&#125;</span><br></pre></td></tr></table></figure><h3 id="执行make和make-install"><a href="#执行make和make-install" class="headerlink" title="执行make和make install"></a>执行make和make install</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">make</span><br><span class="line">make html</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;版本：&lt;br&gt;paho.mqtt.c -1.3.1&lt;br&gt;依赖：&lt;br&gt;openssl-1.0.2s&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://blog.cooky.tk/categories/Linux/"/>
    
      <category term="交叉编译" scheme="https://blog.cooky.tk/categories/Linux/%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/"/>
    
    
      <category term="动态库" scheme="https://blog.cooky.tk/tags/%E5%8A%A8%E6%80%81%E5%BA%93/"/>
    
  </entry>
  
</feed>
